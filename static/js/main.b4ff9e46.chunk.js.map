{"version":3,"sources":["AppFiles/Profile/ProfilePosterCard/ProfilePosterCard.module.scss","ReusableComponents/AppBackground/AppBackground.module.sass","ReusableComponents/NoResult/NoResult.module.scss","ReusableComponents/PosterCard/PosterCard.module.scss","ReusableComponents/PosterLi/PosterLi.module.scss","AppFiles/Contexts/AppContext.js","ReusableComponents/AppScroollbar/AppScrollbar.js","Utils/Consts.js","Utils/RoutesFunctions.js","Utils/FetchFunctions.js","Images/no_image.png","ReusableComponents/PosterCard/PosterCard.js","Hooks/SearchbarHooks/useGotoOtherRoutes.js","Hooks/SearchbarHooks/useCreateArrayToDisplayAndFadeout.js","AppFiles/StartPage/StartPage.js","ReusableComponents/AppBackground/AppBackground.js","Images/BgGreen.jpg","AppFiles/Contexts/MovieContext.js","AppFiles/Movie/MoviePageFunctions.js","Utils/firebase.js","AppFiles/Contexts/AuthContext.js","AppFiles/Movie/MovieStatusWidget.js","AppFiles/Movie/MoviePage.js","Images/menu.svg","Images/close.svg","ReusableComponents/NoResult/NoResult.js","AppFiles/Navbar/Searchbar/Results/ResultsMobile.js","Hooks/SearchbarHooks/useHighlightTextInQuickSearch.js","ReusableComponents/PosterLi/PosterLi.js","AppFiles/Navbar/Searchbar/Results/ResultsPC.js","Hooks/SearchbarHooks/useSearchbarResultsTransition.js","AppFiles/Navbar/Searchbar/Results/SearchbarResults.js","Hooks/SearchbarHooks/useDelayShowNoResults.js","AppFiles/Navbar/Searchbar/NavSearchbar.js","Hooks/SearchbarHooks/useKeysPressedInSearchbar.js","Hooks/SearchbarHooks/useShowHideQuickSearch.js","AppFiles/Navbar/Topbar/Topbar.js","AppFiles/Navbar/Sidebar/Sidebar.js","AppFiles/Navbar/Navbar.js","AppFiles/Forms/FormikControl/Templates/ErrorMsg/ErrorMsg.js","AppFiles/Forms/FormikControl/Templates/Input.js","AppFiles/Forms/FormikControl/Templates/Select.js","AppFiles/Forms/FormikControl/Templates/Textarea.js","AppFiles/Forms/FormikControl/Templates/RadioButtons.js","AppFiles/Forms/FormikControl/Templates/CheckboxGroup.js","AppFiles/Forms/FormikControl/FormikControl.js","AppFiles/Forms/OnSubmitMsg/OnSubmitMsg.js","AppFiles/Forms/Register/Register.js","AppFiles/Forms/Login/Login.js","AppFiles/Profile/ProfilePosterCard/ProfilePosterCard.js","AppFiles/Profile/MoviesCollection/MoviesCollectionDisp.js","AppFiles/Profile/MoviesCollection/MoviesCollectionEmpty.js","AppFiles/Profile/MoviesCollection/MoviesCollectionLogic.js","AppFiles/Profile/Profile.js","AppFiles/Forms/ForgotPassword/ForgotPassword.js","AppFiles/Forms/UpdateProfile/UpdateProfile.js","Utils/PrivateRoute.js","App.js","index.js","AppFiles/Profile/Profile.module.sass","AppFiles/Profile/MoviesCollection/MoviesCollection.module.sass"],"names":["module","exports","AppContext","createContext","AppScrollbarContext","AppScrollbar","props","useContext","dispPostersNum","setDispPostersNum","scrollBarRef","useRef","className","onScrollDown","undefined","ref","Provider","value","children","API_KEY","process","BASE_API_URL","POSTER_W500","POPULAR_MOVIES_URL","PAGE_TRANSITION_TIME","START_PAGE_CARDS_TRANSITION","QUICK_SEARCH_TRANSITION","LOGIN_PAGE","REGISTER_PAGE","FORGOT_PASSWORD","PROFILE_PAGE","UPDATE_PROFILE","getMovieIdFromLocationPathname","location","pathname","includes","substring","lastIndexOf","getMoviesDataToDisplayInSearch","input","a","getAllMoviesData","allMoviesData","console","error","map","movie","title","original_title","id","poster","poster_path","url","axios","get","response","data","results","createSearchMoviesUrl","getMovieData","movieID","PosterCard","cardData","onClick","cardTransitionDuration","imgTransition","imgHeight","imgWidth","AnimatePresence","exitBeforeEnter","motion","div","s","initial","opacity","animate","exit","transition","duration","ease","width","height","opacityTransition","src","no_image","alt","GotoOtherRoutesHooks","searchbarText","pushToHistory","fetchPopularMoviesOnStartPage","setAllMoviesData","setShowQuickSearchRes","setSuggestions","selectedMovieInQuickSearch","selectedMovieInStartPage","selectedMovieInProfilePage","gotoStarPage","useCreateArrayToDisplayAndFadeout","array","sliceNum","length","disappearDelay","useState","clonedArray","setClonedArray","useEffect","slicedArray","slice","timer","setTimeout","clearTimeout","StartPage","suggestions","useGotoOtherRoutes","displayedSuggestions","delay","p","item","AppBackground","fetchImg","fallbackImg","setDocHeight","document","documentElement","style","setProperty","window","innerHeight","addEventListener","removeEventListener","BgGradient","img","BgImage","MovieContext","useMovieContext","MovieProvider","useLocation","initMovieID","setInitMovieID","setMovieID","movieData","setMovieData","backgroundIMG","setBackgroundIMG","log","getData","backdrop_path","BgGreen","nestedDataToString","nestedData","nestedArray","forEach","push","name","join","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","usersCollection","firestore","collection","FieldValue","serverTimestamp","AuthContext","useAuth","AuthProvider","user","setUser","userData","setUserData","loading","setLoading","logout","signOut","loadUserData","doc","uid","then","snapshot","catch","err","onAuthStateChanged","register","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","handleLogout","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","MovieStatusWidget","initStatus","movies","status","rating","movieStatus","setMovieStatus","saveMovieStatusToFirebase","actionType","command","delete","set","merge","updateMovieStatusToFirebase","DropdownList","filter","onChange","nextValue","textField","MovieCard","overview","tagline","production_companies","genres","release_date","runtime","revenue","vote_average","productionList","genresList","parseInt","toLocaleString","NoResult","fadeInConditionsArr","onClose","closeBtn","fadeIn","setFadeIn","every","btn","closeImg","ResultsMobile","showQuickSearchRes","index","HighlightTextInQuickSearchHooks","indexOfHighlightedMovie","setIndexOfHighlightedMovie","highligthText","text","highlight","parts","split","RegExp","part","i","toLowerCase","color","fontWeight","highlightMovieTextOnHover","e","target","getAttribute","PosterLi","li","onMouseEnter","ResultsPC","useHighlightTextInQuickSearch","UseSearchbarResultsTransition","Component","MovieSearchbarResults","showNoResults","msDelay","stringDependency","setShowNoResults","useDelayShowNoResults","useSearchbarResultsTransition","isMobile","NavSearchbar","setSearchbarText","onSearchbarTextChanging","enterKeyInSearchbar","ArrowKeysReact","config","up","isNaN","prevState","down","keyCode","which","useKeysPressedInSearchbar","showResInSearchBar","node","hideOnOutsideClick","current","contains","OnSearchBarClicked","useShowHideQuickSearch","onSubmit","preventDefault","debounceTimeout","type","placeholder","onKeyPress","Topbar","openSidebar","gotoHome","gotoRegister","gotoLogin","gotoUserPanel","menuIcon","Sidebar","isOpen","close","closeIcon","Navbar","isSidebarOpen","setIsSidebarOpen","ErrorMsg","Input","label","rest","htmlFor","component","Select","options","as","option","key","Textarea","RadioButtons","field","checked","CheckboxGroup","FormikControl","control","OnSubmitMsg","submitStatus","message","Register","history","useHistory","submitMsg","setSubmitMsg","validationSchema","Yup","required","username","min","values","onSubmitProps","registerRes","setSubmitting","initialValues","enableReinitialize","formik","disabled","isValid","isSubmitting","Login","MoviesCollectionDisp","userMovies","MoviesCollection","MoviesCollectionEmpty","Empty","ExampleMovie","MoviesCollectionLogic","setUserMovies","initUserMovies","moviesArrFromFirebase","Object","entries","newArrToDisp","tmdb","Array","isArray","Profile","container","profileCard","buttons","button","ForgotPassword","UpdateProfile","emailUpdateMsg","setEmailUpdateMsg","passwordUpdateMsg","setPasswordUpdateMsg","PrivateRoute","render","to","App","dataToDisplay","events","tabIndex","replace","exact","path","ReactDOM","basename","getElementById"],"mappings":"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","file":"static/js/main.b4ff9e46.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"PosterCard\":\"ProfilePosterCard_PosterCard__24TH6\",\"rating\":\"ProfilePosterCard_rating__82znp\",\"status\":\"ProfilePosterCard_status__20l2e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BgGradient\":\"AppBackground_BgGradient__2nQio\",\"BgImage\":\"AppBackground_BgImage__1dsZq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NoResult\":\"NoResult_NoResult__YeTfc\",\"btn\":\"NoResult_btn__1abjx\",\"active\":\"NoResult_active__2Y-CD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PosterCard\":\"PosterCard_PosterCard__1PO0F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PosterLi\":\"PosterLi_PosterLi__KSaed\",\"active\":\"PosterLi_active__1lf78\"};","import {createContext} from 'react'\r\n\r\nexport const AppContext = createContext(null)","import { createContext, useContext, useRef } from 'react'\r\nimport './ScroolbarStyle.scss'\r\nimport ScrollBar from 'react-perfect-scrollbar'\r\nimport { AppContext } from 'AppFiles/Contexts/AppContext'\r\n\r\nconst AppScrollbarContext = createContext()\r\n\r\nexport function useAppScrollbar(){\r\n  return useContext(AppScrollbarContext)\r\n}\r\n\r\nexport default function AppScrollbar (props) {\r\n  // still can't add refresh gesture on mobile\r\n  // https://github.com/goldenyz/react-perfect-scrollbar/issues/101\r\n\r\n  const { dispPostersNum, setDispPostersNum } = useContext(AppContext)\r\n  const scrollBarRef = useRef(null)\r\n\r\n  const infiniteScroll = e => {\r\n    // console.log('infinite Scroll')\r\n    setDispPostersNum(20)\r\n  }\r\n\r\n\r\n  return (\r\n    <ScrollBar \r\n      className='AppScroolbar'\r\n      // adds and clears on scroll event\r\n      onScrollDown={ dispPostersNum < 20 ? () => infiniteScroll() : undefined}  \r\n      // onYReachEnd={e => infiniteScroll(e)}\r\n      ref = { scrollBarRef }\r\n    >\r\n      <AppScrollbarContext.Provider value={{scrollBarRef}}>\r\n        {props.children}\r\n      </AppScrollbarContext.Provider>\r\n    </ScrollBar>\r\n  )\r\n}","//Basics\r\nexport const API_KEY = process.env.REACT_APP_TMDB_API_KEY\r\nexport const BASE_API_URL = 'https://api.themoviedb.org'\r\nexport const BASE_IMG_URL = 'https://image.tmdb.org/t/p/'\r\nexport const BASE_BG_IMG_URL = 'https://image.tmdb.org/t/p/original'\r\nexport const INIT_BG_IMG = 'https://image.tmdb.org/t/p/original/rAiYTfKGqDCRIIqo664sY9XZIvQ.jpg' // interstellar\r\n\r\n// Commbinations of basics\r\nexport const POSTER_W500 = `${BASE_IMG_URL}w500`\r\nexport const POPULAR_MOVIES_URL = `${BASE_API_URL}/3/movie/popular?${API_KEY}` \r\n\r\n// Number of dysplayed results\r\nexport const NUM_OF_DISP_RES_PC = 5\r\nexport const NUM_OF_DISP_RES_MOBILE = 3\r\n\r\n// Transitions\r\nexport const PAGE_TRANSITION_TIME = 0.55\r\nexport const START_PAGE_CARDS_TRANSITION = 0.35\r\nexport const QUICK_SEARCH_TRANSITION = 0.35\r\n\r\n// Routes\r\nexport const HOME_PAGE = '/'\r\nexport const MOVIE_PAGE = '/movie/'\r\nexport const LOGIN_PAGE = '/login'\r\nexport const REGISTER_PAGE = '/register'\r\nexport const FORGOT_PASSWORD = '/forgot-password'\r\nexport const PROFILE_PAGE = '/profile'\r\nexport const UPDATE_PROFILE = '/profile-update'","export const getMovieIdFromLocationPathname = location => {\r\n  if(location.pathname.includes('/movie/'))\r\n    return location.pathname.substring(location.pathname.lastIndexOf(\"/\") + 1)\r\n}","import axios from 'axios'\r\nimport { API_KEY, BASE_API_URL, POSTER_W500 } from './Consts'\r\nimport { getMovieIdFromLocationPathname } from './RoutesFunctions'\r\n\r\n\r\n//==== Fetch all movies ====\r\nexport async function getMoviesDataToDisplayInSearch(input){\r\n  let allMoviesData\r\n  if (typeof input === 'string'){  // if url\r\n    allMoviesData = await getAllMoviesData(input)\r\n  } else if (typeof input === 'object'){\r\n    allMoviesData = input\r\n  } else {\r\n    console.error(`Passed ${typeof input} input to getMoviesDataToDisplayInSearch. You must pass string or object`)\r\n    return \r\n  }\r\n\r\n  return allMoviesData.map(movie => ({\r\n    title: movie.original_title,\r\n    id: movie.id,\r\n    poster: movie.poster_path !== null ? POSTER_W500 + movie.poster_path : null\r\n  }))\r\n}\r\n\r\nexport async function getAllMoviesData(url){\r\n  const response = await axios.get(url)\r\n  return response.data.results\r\n}\r\n\r\nexport function createSearchMoviesUrl(value){\r\n  return `${BASE_API_URL}/3/search/movie?query=%${value}&${API_KEY}`\r\n}\r\n\r\n//==== Fetch one movie ====\r\nexport async function getMovieData(movieID){\r\n  const response = await axios.get(`${BASE_API_URL}/3/movie/${movieID}?&${API_KEY}`)\r\n  return response.data\r\n}\r\n\r\nexport function setInitMovieID(location){\r\n  const initMovieID = getMovieIdFromLocationPathname(location)\r\n  if(initMovieID === '') return '157336' // interstellar\r\n  return initMovieID\r\n}","export default __webpack_public_path__ + \"static/media/no_image.2f8a70e1.png\";","import { motion, AnimatePresence } from \"framer-motion\"\r\nimport s from './PosterCard.module.scss'\r\nimport ImageFadeIn from \"react-image-fade-in\";\r\nimport no_image from 'Images/no_image.png'\r\nimport PropTypes from 'prop-types'\r\n\r\nPosterCard.propTypes = {\r\n  cardData: PropTypes.object, \r\n  onClick: PropTypes.func, \r\n  className: PropTypes.string, \r\n  cardTransitionDuration: PropTypes.number, \r\n  imgTransition: PropTypes.number, \r\n  imgHeight: PropTypes.string, \r\n  imgWidth: PropTypes.string\r\n}\r\n\r\nexport default function PosterCard ({\r\n  cardData, onClick, className, cardTransitionDuration, imgTransition, imgHeight, imgWidth}) {\r\n \r\n  return (\r\n  <AnimatePresence exitBeforeEnter>\r\n    <motion.div\r\n      id={s.PosterCard}\r\n      className={className}\r\n      onClick={() => onClick(cardData.id)}\r\n\r\n      key={cardData.id}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      transition={{ duration: cardTransitionDuration, ease: 'easeInOut' }}\r\n    >\r\n      <div >\r\n          <ImageFadeIn\r\n            width={imgWidth}\r\n            height={imgHeight}\r\n            opacityTransition={imgTransition}\r\n            src={cardData.poster ? cardData.poster : no_image}\r\n            alt={`poster ${cardData.id}`}\r\n          />\r\n        <p>{cardData.title}</p>\r\n      </div>\r\n    </motion.div>\r\n  </AnimatePresence>\r\n  )\r\n}","import { useContext } from 'react'\r\nimport { AppContext } from 'AppFiles/Contexts/AppContext'\r\nimport { useAppScrollbar } from 'ReusableComponents/AppScroollbar/AppScrollbar'\r\nimport { PAGE_TRANSITION_TIME } from 'Utils/Consts'\r\n\r\n\r\nexport default function GotoOtherRoutesHooks() {\r\n  const { searchbarText, pushToHistory, fetchPopularMoviesOnStartPage, setAllMoviesData, setShowQuickSearchRes, setSuggestions} = useContext(AppContext)\r\n  // const { scrollBarRef } = useAppScrollbar()\r\n\r\n\r\n  function selectedMovieInQuickSearch(id){\r\n    if (searchbarText && id !== undefined) {\r\n      pushToHistory(`/movie/${id}`)\r\n      setShowQuickSearchRes(false)\r\n    }\r\n  }\r\n\r\n  function selectedMovieInStartPage(id){\r\n    pushToHistory(`/movie/${id}`)\r\n    // setTimeout(() => {\r\n    //   // moves ScrollBar to top\r\n    //   scrollBarRef.current._ps.element.scrollTop = 0  \r\n    //   // console.log(\"scrollBarRef\", scrollBarRef.current._ps)\r\n      \r\n    //   setSuggestions([])\r\n    // }, PAGE_TRANSITION_TIME * 1000) // exit animation length\r\n  }\r\n\r\n  function selectedMovieInProfilePage(id){\r\n    pushToHistory(`/movie/${id}`)\r\n  }\r\n\r\n  const gotoStarPage = () => {\r\n    setAllMoviesData([])\r\n    fetchPopularMoviesOnStartPage()\r\n    pushToHistory(`/`)\r\n  }\r\n\r\n  return {selectedMovieInQuickSearch, selectedMovieInStartPage, selectedMovieInProfilePage, gotoStarPage}\r\n}","import { useState, useEffect } from 'react'\r\n\r\nexport default function useCreateArrayToDisplayAndFadeout(array, sliceNum = array.length, disappearDelay = 800) {\r\n  // == Usage ==\r\n  // 1. Delays disapperance of displayed data from fetched array\r\n  // 2. Can give your app time to fadeout current displayed data\r\n\r\n  // == How it works ==\r\n  // creates clone of passed array.\r\n  // cloned array is updated instantly when passed not empty array\r\n  // cloned array is not updated for \"disappearDelay\" miliseconds when passed empty array. \r\n\r\n  const [clonedArray, setClonedArray] = useState([])\r\n\r\n  useEffect(() => {\r\n    const slicedArray = array\r\n    .slice(0, sliceNum)\r\n\r\n    if(array.length > 0){\r\n      setClonedArray(slicedArray)\r\n    } else {\r\n      const timer = setTimeout(() => {\r\n        setClonedArray(slicedArray)\r\n      }, disappearDelay);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [array, sliceNum, disappearDelay]);\r\n\r\n\r\n  return clonedArray\r\n}","import { useContext } from 'react'\r\nimport './StartPage.scss'\r\nimport { AppContext } from 'AppFiles/Contexts/AppContext'\r\nimport { PAGE_TRANSITION_TIME, START_PAGE_CARDS_TRANSITION } from 'Utils/Consts'\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\nimport PosterCard from 'ReusableComponents/PosterCard/PosterCard'\r\nimport useGotoOtherRoutes from 'Hooks/SearchbarHooks/useGotoOtherRoutes'\r\nimport useCreateArrayToDisplayAndFadeout from 'Hooks/SearchbarHooks/useCreateArrayToDisplayAndFadeout'\r\n\r\n\r\nexport default function StartPage() {\r\n  const {searchbarText, suggestions, dispPostersNum} = useContext(AppContext)\r\n  const {selectedMovieInStartPage} = useGotoOtherRoutes()\r\n  const displayedSuggestions = useCreateArrayToDisplayAndFadeout(suggestions, 20, 800)\r\n\r\n\r\n  return (\r\n    <motion.div \r\n      className='StartPage'\r\n\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1, delay :0.2 }}\r\n      exit={{ opacity: 0 }}\r\n      transition={{ duration: PAGE_TRANSITION_TIME }}\r\n    > \r\n      <div className='Container'>\r\n      <AnimatePresence exitBeforeEnter>\r\n        <motion.p\r\n          key={searchbarText}\r\n          className='title'\r\n          \r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1}}\r\n          exit={{ opacity: 0 }}\r\n          transition={{ duration: START_PAGE_CARDS_TRANSITION, ease: \"easeInOut\"}}>\r\n            {!searchbarText && 'Trending Now'}\r\n        </motion.p>\r\n      </AnimatePresence>\r\n\r\n\r\n      <div className={'row ' + (!suggestions.length && 'fadeout')}>\r\n        {displayedSuggestions.slice(0, dispPostersNum).map(item => \r\n          <PosterCard \r\n            className='col-xl-2 col-md-3 col-4 '\r\n            cardData={item} \r\n            onClick={selectedMovieInStartPage}\r\n            cardTransitionDuration={START_PAGE_CARDS_TRANSITION}\r\n            imgTransition={0.5}\r\n            imgHeight={'750'}\r\n            imgWidth={'500'}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  </motion.div> \r\n  )\r\n}","import { useEffect } from 'react'\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\nimport PropTypes from 'prop-types'\r\nimport s from './AppBackground.module.sass'\r\n\r\n\r\nAppBackground.propTypes = {\r\n  fetchImg: PropTypes.string, \r\n  fallbackImg: PropTypes.string\r\n}\r\n\r\nexport default function AppBackground({fetchImg, fallbackImg}) {\r\n// calucluleta size of 1% of window height and saves it to variable\r\n// Proposal for new units to fix this \r\n// https://github.com/w3c/csswg-drafts/issues/4329\r\n// Solution from Jonas Sandstedt comment \r\n// https://chanind.github.io/javascript/2019/09/28/avoid-100vh-on-mobile-web.html\r\n\r\n\r\n  useEffect(() => {\r\n    function setDocHeight() {\r\n      document.documentElement.style.setProperty('--vh', `${window.innerHeight/100}px`)\r\n    }\r\n    window.addEventListener('resize', setDocHeight())\r\n    window.addEventListener('orientationchange', setDocHeight())\r\n\r\n    return () => {\r\n      // functions to be called when unmounted. not shure if it does anything here\r\n      document.removeEventListener('resize', setDocHeight)\r\n      document.removeEventListener('orientationchange', setDocHeight)\r\n    }\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className={s.BgGradient}/>\r\n      <AnimatePresence>\r\n        <motion.img \r\n          className={s.BgImage}\r\n          src={fetchImg ? fetchImg : fallbackImg}\r\n          key={fetchImg}\r\n\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1, delay :0.2 }}\r\n          exit={{ opacity: 0 }}\r\n          transition={{duration: 1.5}}\r\n        />\r\n      </AnimatePresence>\r\n    </>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/BgGreen.a17d9a1b.jpg\";","import { BASE_BG_IMG_URL, INIT_BG_IMG } from 'Utils/Consts'\r\nimport { useState, useEffect, createContext, useContext } from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { getMovieData, setInitMovieID } from 'Utils/FetchFunctions'\r\nimport { getMovieIdFromLocationPathname } from 'Utils/RoutesFunctions'\r\nimport AppBackground from 'ReusableComponents/AppBackground/AppBackground'\r\nimport BgGreen from 'Images/BgGreen.jpg'\r\n\r\n\r\nconst MovieContext = createContext()\r\nexport function useMovieContext(){\r\n  return useContext(MovieContext)\r\n}\r\n\r\n\r\nexport default function MovieProvider({children}){\r\n  const location = useLocation()\r\n  const [movieID, setMovieID] = useState(() => setInitMovieID(location))\r\n  const [movieData, setMovieData] = useState({})\r\n  const [backgroundIMG, setBackgroundIMG] = useState(INIT_BG_IMG)\r\n\r\n\r\n  // get movieID from location\r\n  // allows to correctly go back to previous movie on MoviePage\r\n  useEffect(() => {\r\n    if(location.pathname.includes('/movie/'))\r\n      setMovieID(getMovieIdFromLocationPathname(location))\r\n  }, [location])\r\n\r\n\r\n  // get MovieData based on movieID\r\n  useEffect(() => {\r\n    console.log(`movieID: ${movieID}`)\r\n    async function getData(){\r\n      movieID && setMovieData(await getMovieData(movieID))\r\n    }\r\n    getData()\r\n  }, [movieID])\r\n\r\n\r\n  //set BackgroundIMG base on movieData \r\n  useEffect(() => {\r\n    // console.log({movieData})\r\n    if(movieData.backdrop_path)\r\n      setBackgroundIMG(`${BASE_BG_IMG_URL}${movieData.backdrop_path}`)\r\n  }, [movieData])\r\n\r\n  // useEffect(() => {\r\n  //   console.log('backgroundIMG: ', backgroundIMG)\r\n  // }, [backgroundIMG])\r\n\r\n\r\n  return (\r\n    <MovieContext.Provider value={{movieID, setMovieID, movieData}}>\r\n      <AppBackground \r\n        fetchImg={backgroundIMG} \r\n        fallbackImg={BgGreen}\r\n      />\r\n      {children}\r\n    </MovieContext.Provider>\r\n  )\r\n}","export function nestedDataToString(nestedData) {\r\n  let nestedArray = []\r\n  if (nestedData !== undefined) {\r\n    nestedData.forEach(item => {\r\n      nestedArray.push(item.name)\r\n    })\r\n  }\r\n  // returns string compiled from array\r\n  return nestedArray.join(', ') \r\n}","import firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_APIKEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n}\r\n\r\nfirebase.initializeApp(firebaseConfig)\r\nfirebase.auth()\r\n\r\nexport const db = firebase.firestore()\r\nexport const usersCollection = db.collection('users') \r\nexport const firebaseTimestamp = firebase.firestore.FieldValue.serverTimestamp\r\n\r\nexport default firebase","import { createContext, useContext, useEffect, useState } from 'react'\r\nimport firebase from 'Utils/firebase'\r\nimport { usersCollection } from 'Utils/firebase'\r\n\r\nconst AuthContext = createContext()\r\n\r\nexport function useAuth(){\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport default function AuthProvider({children}) {\r\n  const [user, setUser] = useState()\r\n  const [userData, setUserData] = useState({})\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  function register(email, password){\r\n    return firebase.auth().createUserWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  function login(email, password){\r\n    return firebase.auth().signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  function logout(){\r\n    return firebase.auth().signOut()\r\n  }\r\n\r\n  async function handleLogout(){\r\n    try{\r\n      await logout()\r\n      setUserData({})\r\n    } catch(err){\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  function resetPassword(email){\r\n    return firebase.auth().sendPasswordResetEmail(email)\r\n  }\r\n\r\n  function updateEmail(email){\r\n    return user.updateEmail(email)\r\n  }\r\n\r\n  function updatePassword(password){\r\n    return user.updatePassword(password)\r\n  }\r\n\r\n  function loadUserData(){\r\n    if (user){\r\n      usersCollection.doc(user.uid).get().then(snapshot => {\r\n        console.log(snapshot.data())\r\n        setUserData(snapshot.data())\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    }\r\n  }\r\n  \r\n\r\n  // sets firebase user\r\n  useEffect(() => {\r\n    const unsubscribe = firebase.auth().onAuthStateChanged(user => {\r\n      console.log('user:', user)\r\n      setUser(user)\r\n      setLoading(false)\r\n    })\r\n    \r\n    return unsubscribe\r\n  }, [])\r\n\r\n\r\n  // loads data about user if user exists\r\n  useEffect(() => {\r\n    loadUserData()\r\n  }, [user])\r\n\r\n\r\n  return (\r\n    <AuthContext.Provider value={{user, userData, setUserData, loadUserData, register, login, logout, handleLogout, resetPassword, updateEmail, updatePassword}}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  )\r\n}","// import \"react-widgets/scss/styles.scss\"\r\nimport {useState, useEffect} from 'react'\r\nimport './MovieStatusWidget.scss'\r\nimport DropdownList from \"react-widgets/DropdownList\"\r\nimport firebase from 'Utils/firebase'\r\nimport {usersCollection} from 'Utils/firebase'\r\nimport { useAuth } from 'AppFiles/Contexts/AuthContext'\r\nimport { useMovieContext } from 'AppFiles/Contexts/MovieContext'\r\n\r\n\r\nexport default function MovieStatusWidget() {\r\n  const { movieID } = useMovieContext()\r\n  const { user, userData, loadUserData } = useAuth()\r\n\r\n  const initStatus = userData.movies && userData.movies[movieID]\r\n  const [movieStatus, setMovieStatus] = useState({\r\n    status: initStatus ? initStatus.status : '',\r\n    rating: initStatus ? initStatus.rating : ''\r\n  })\r\n\r\n\r\n  useEffect(() => {\r\n    // function definition\r\n    async function saveMovieStatusToFirebase(actionType){\r\n      let command\r\n      if (actionType === 'update'){\r\n        command = {\r\n          status: movieStatus.status,\r\n          rating: movieStatus.rating,\r\n        }\r\n      }\r\n      else if (actionType === 'delete'){\r\n        command = firebase.firestore.FieldValue.delete()\r\n      }\r\n       \r\n\r\n      try {\r\n        await usersCollection.doc(user.uid).set({\r\n          \"movies\": {\r\n            [movieID]: command\r\n          }\r\n        }, { merge: true })\r\n      } catch (err){\r\n        console.log(err)\r\n        // setSubmitMsg({\r\n        //   submitStatus: 'error',\r\n        //   message: err.message\r\n        // })\r\n      }\r\n    }\r\n\r\n    // function execution\r\n    if(movieStatus.status || movieStatus.rating){\r\n      async function updateMovieStatusToFirebase(){\r\n        if(movieStatus.status === \"Delete movie data\"){\r\n          await saveMovieStatusToFirebase('delete')\r\n          setMovieStatus({\r\n            status: '',\r\n            rating: '',\r\n          })\r\n        } else {\r\n          await saveMovieStatusToFirebase('update')\r\n        }\r\n      }\r\n      updateMovieStatusToFirebase()\r\n    }\r\n\r\n    // will update global userData from firebase when unmonting object. firebase is a single source of truth\r\n    return () => {\r\n      loadUserData()\r\n    }\r\n  }, [movieStatus])\r\n\r\n\r\n  return (\r\n    <div className='MovieStatusWidgets'>\r\n      <div className='Widget'>\r\n        <p>Status</p>\r\n        <DropdownList\r\n          filter={false}  // prevents from writing in box\r\n          value={movieStatus.status}\r\n          onChange={nextValue => setMovieStatus({\r\n            ...movieStatus,\r\n            status: nextValue\r\n          })}\r\n          textField=\"color\"\r\n          data={[\"Watching\", \"Plan to watch\", \"Completed\", \"Paused\", \"Dropped\", \"Delete movie data\"]}\r\n        />\r\n      </div>\r\n      <div className='Widget'>\r\n        <p>Rating</p>\r\n        <DropdownList\r\n          filter={false}  // prevents from writing in box\r\n          value={movieStatus.rating}\r\n          onChange={nextValue => setMovieStatus({\r\n            ...movieStatus,\r\n            rating: nextValue\r\n          })}\r\n          textField=\"color\"\r\n          data={['1', '2', '3', '4', '5']}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}","import './MoviePage.scss'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { useMovieContext } from 'AppFiles/Contexts/MovieContext'\r\nimport { POSTER_W500 } from 'Utils/Consts'\r\nimport { nestedDataToString } from './MoviePageFunctions'\r\nimport { PAGE_TRANSITION_TIME } from 'Utils/Consts'\r\nimport no_image from 'Images/no_image.png'\r\nimport MovieStatusWidget from './MovieStatusWidget'\r\nimport { useAuth } from 'AppFiles/Contexts/AuthContext'\r\n\r\n\r\nexport default function MovieCard () {\r\n  const { user } = useAuth()\r\n\r\n  const { movieData } = useMovieContext()\r\n  const { original_title, overview, tagline, poster_path, production_companies, genres, release_date, runtime } = movieData\r\n  let { revenue, vote_average } = movieData\r\n\r\n  const productionList = nestedDataToString(production_companies)\r\n  const genresList = nestedDataToString(genres)\r\n\r\n  \r\n  return (\r\n    /* Transition between this and other pages */\r\n    <motion.div \r\n      className='MovieCard'\r\n\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1, delay :0.2}}\r\n      exit={{ opacity: 0 }}\r\n      transition={{ duration: PAGE_TRANSITION_TIME }}\r\n    >   \r\n      {/* Transition between cards when we pick another movie on this page */}\r\n      <AnimatePresence exitBeforeEnter> \r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          exit={{ opacity: 0 }}\r\n          transition={{ duration: PAGE_TRANSITION_TIME }}\r\n          className='Container row'\r\n          key={original_title}\r\n        >\r\n          <div className='metaDataContainer col-12 col-md-7 col-lg-8'>\r\n            <h1>{original_title}</h1>\r\n\r\n            {user && <MovieStatusWidget/>}\r\n\r\n            <span className='tagline'>{tagline}</span>\r\n            <p>{overview}</p>\r\n            <div className='additionalDetails'>\r\n              <span className='genreList'>{genresList}</span>\r\n              <span className='productionList'>{productionList}</span>\r\n              <div className='row releaseDetails'>\r\n\r\n                <div className='col-6'>\r\n                  Original Release:\r\n                  <span className='metaData'>{release_date}</span>\r\n                </div>\r\n                <div className='col-6'>\r\n                  Running Time: \r\n                  <span className='metaData'>\r\n                    {runtime} min\r\n                  </span>\r\n                </div>\r\n                <div className='col-6'>\r\n                  Box Office: \r\n                  <span className='metaData'>\r\n                    {revenue ? `${parseInt(revenue).toLocaleString()} $` : '-'}\r\n                  </span>\r\n                </div>\r\n                <div className='col-6'>\r\n                  Vote Average:\r\n                  <span className='metaData'>\r\n                    {vote_average ? vote_average : '-'}\r\n                  </span>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div \r\n          className='posterContainer order-md-first col-12 col-md-5 col-lg-4'>\r\n            <img\r\n              className='poster'\r\n              src={poster_path !== null \r\n                ? POSTER_W500 + poster_path \r\n                : no_image}\r\n              alt='poster'\r\n            />\r\n          </div>\r\n        </motion.div>\r\n      </AnimatePresence>\r\n    </motion.div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/menu.e5ee7631.svg\";","export default __webpack_public_path__ + \"static/media/close.b8969d7a.svg\";","import {useState, useEffect} from 'react'\r\nimport s from './NoResult.module.scss'\r\nimport PropTypes from 'prop-types'\r\nimport closeImg  from 'Images/close.svg'\r\n\r\n\r\nNoResult.propTypes = {\r\n  className: PropTypes.string,\r\n  fadeInConditionsArr: PropTypes.array.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  closeBtn: PropTypes.string.isRequired\r\n}\r\n\r\nexport default function NoResult({className, fadeInConditionsArr, onClose, closeBtn}) {\r\n  const [fadeIn, setFadeIn] = useState(false)\r\n\r\n  useEffect(() => {\r\n    // if every element in array is true\r\n    setFadeIn(fadeInConditionsArr.every(item => item))\r\n  }, [fadeInConditionsArr])\r\n\r\n  return (\r\n    <div className={`${s.NoResult} ${className} ` + (fadeIn && 'fadeIn')}>\r\n        <p>no result</p>\r\n\r\n        {closeBtn === 'btn' &&\r\n          <p \r\n            className={s.btn}\r\n            onClick={() => onClose(false)}\r\n          >close</p>\r\n        }\r\n\r\n        {closeBtn === 'img' &&\r\n          <img \r\n            src={closeImg} \r\n            onClick={() => onClose(false)}\r\n            alt=\"close search results\"\r\n          />\r\n        }\r\n    </div>\r\n  )\r\n}","import { useContext } from 'react'\r\nimport './ResultsMobile.scss'\r\nimport { NUM_OF_DISP_RES_MOBILE, QUICK_SEARCH_TRANSITION } from 'Utils/Consts'\r\nimport { AppContext } from 'AppFiles/Contexts/AppContext'\r\nimport useCreateArrayToDisplayAndFadeout from 'Hooks/SearchbarHooks/useCreateArrayToDisplayAndFadeout'\r\nimport GotoOtherRoutesHooks from 'Hooks/SearchbarHooks/useGotoOtherRoutes'\r\nimport PosterCard from 'ReusableComponents/PosterCard/PosterCard'\r\n\r\n\r\nexport default function ResultsMobile() {\r\n  const { searchbarText, pushToHistory, suggestions, showQuickSearchRes, setShowQuickSearchRes } = useContext(AppContext)\r\n  const {selectedMovieInQuickSearch} = GotoOtherRoutesHooks()\r\n  const displayedSuggestions = useCreateArrayToDisplayAndFadeout(suggestions, NUM_OF_DISP_RES_MOBILE, 800)\r\n\r\n  return (\r\n    <div\r\n      className={'ResultsMobile ' + \r\n      (showQuickSearchRes && searchbarText && 'fadeIn')} \r\n    >\r\n      <div className='searchbar_div'>\r\n        {displayedSuggestions.map(item => \r\n          <PosterCard \r\n            className='col-4'\r\n            cardData={item} \r\n            onClick={selectedMovieInQuickSearch}\r\n            cardTransitionDuration={QUICK_SEARCH_TRANSITION}\r\n            imgTransition={0.5}\r\n            imgHeight={'750'}\r\n            imgWidth={'500'}\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      <div className='searchbar_li'>\r\n        <p \r\n          className='showMoreBtn'\r\n          onClick={() => pushToHistory(`/`)} \r\n          index={NUM_OF_DISP_RES_MOBILE}\r\n        >\r\n          show more\r\n        </p>\r\n        <p \r\n          className='showMoreClose'\r\n          onClick={() => setShowQuickSearchRes(false)}\r\n        >\r\n          close\r\n        </p>\r\n      </div>\r\n      \r\n    </div>\r\n  )\r\n}","import { useContext } from 'react'\r\nimport { AppContext } from 'AppFiles/Contexts/AppContext'\r\n\r\n\r\nexport default function HighlightTextInQuickSearchHooks() {\r\n  const { indexOfHighlightedMovie, setIndexOfHighlightedMovie } = useContext(AppContext)\r\n\r\n  function highligthText(text, highlight, index) {\r\n    const parts = text.split(new RegExp(`(${highlight})`, 'gi'))\r\n\r\n    return <span> { parts.map((part, i) => \r\n      <span \r\n        key={i} \r\n        style=\r\n        {(part.toLowerCase() === highlight.toLowerCase() && indexOfHighlightedMovie !== index)\r\n          ? { color: '#00FC87', fontWeight: 'bold' } \r\n          : part.toLowerCase() === highlight.toLowerCase() \r\n            ? { fontWeight: 'bold'}\r\n            : {}} \r\n      >\r\n        { part }\r\n      </span>)\r\n    } </span>;\r\n  }\r\n\r\n  const highlightMovieTextOnHover = e => {\r\n    setIndexOfHighlightedMovie(parseInt(e.target.getAttribute('index')))\r\n  }\r\n\r\n  return {highligthText, highlightMovieTextOnHover}\r\n}","import { useContext } from 'react'\r\nimport s from './PosterLi.module.scss'\r\nimport { AppContext } from 'AppFiles/Contexts/AppContext'\r\nimport { QUICK_SEARCH_TRANSITION } from 'Utils/Consts'\r\nimport HighlightTextInQuickSearchHooks from 'Hooks/SearchbarHooks/useHighlightTextInQuickSearch'\r\nimport GotoOtherRoutesHooks from 'Hooks/SearchbarHooks/useGotoOtherRoutes'\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\nimport ImageFadeIn from \"react-image-fade-in\"\r\nimport no_image from 'Images/no_image.png'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nPosterLi.propTypes = {\r\n  item: PropTypes.object,\r\n  index: PropTypes.number\r\n}\r\n\r\nexport default function PosterLi({item, index}) {\r\n  const { searchbarText, indexOfHighlightedMovie} = useContext(AppContext)\r\n\r\n  const {highligthText, highlightMovieTextOnHover} = HighlightTextInQuickSearchHooks()\r\n  const {selectedMovieInQuickSearch} = GotoOtherRoutesHooks()\r\n\r\n\r\n  return (\r\n    <AnimatePresence exitBeforeEnter>\r\n      <motion.li \r\n        className={`${s.PosterLi} ` +  \r\n        (indexOfHighlightedMovie === index && 'active')}\r\n\r\n        onClick={() => selectedMovieInQuickSearch(item.id)}\r\n        onMouseEnter={highlightMovieTextOnHover} \r\n        index={index}\r\n        key={item.id}\r\n\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        exit={{ opacity: 0 }}\r\n        transition={{ duration: QUICK_SEARCH_TRANSITION }}\r\n      >\r\n        <div className='row'>\r\n          <ImageFadeIn \r\n            className='col-lg-2 col-md-3 col-sm-4 col-3'\r\n            width='500'\r\n            height='750'\r\n            opacityTransition={0.5}\r\n            src={item.poster ? item.poster : no_image} \r\n            alt={`poster ${item.id}`}\r\n          />\r\n          <p className='col-lg-10 col-md-9 col-sm-8 col-9'>\r\n            {highligthText(item.title, searchbarText, index)}\r\n          </p>\r\n        </div>\r\n      </motion.li>\r\n    </AnimatePresence>\r\n  )\r\n}","import { useContext } from 'react'\r\nimport { AppContext } from 'AppFiles/Contexts/AppContext'\r\nimport './ResultsPC.scss'\r\nimport { NUM_OF_DISP_RES_PC } from 'Utils/Consts'\r\nimport useHighlightTextInQuickSearch from 'Hooks/SearchbarHooks/useHighlightTextInQuickSearch'\r\nimport useCreateArrayToDisplayAndFadeout from 'Hooks/SearchbarHooks/useCreateArrayToDisplayAndFadeout'\r\nimport PosterLi from 'ReusableComponents/PosterLi/PosterLi'\r\nimport closeImg  from 'Images/close.svg'\r\n\r\n\r\nexport default function ResultsPC() {\r\n  const { searchbarText, pushToHistory, suggestions, showQuickSearchRes, setShowQuickSearchRes, indexOfHighlightedMovie  } = useContext(AppContext)\r\n  const {highlightMovieTextOnHover} = useHighlightTextInQuickSearch()\r\n  const displayedSuggestions = useCreateArrayToDisplayAndFadeout(suggestions, NUM_OF_DISP_RES_PC, 800)\r\n\r\n\r\n  return (\r\n    <ul \r\n      className={'ResultsPC ' + \r\n      (showQuickSearchRes && searchbarText && 'fadeIn')} \r\n    >\r\n        {displayedSuggestions.map((item, index) => \r\n          <PosterLi item={item} index={index} />\r\n        )}\r\n      {<li className='showMore'>\r\n        <p\r\n          className={'showMoreParagraph ' + \r\n          (indexOfHighlightedMovie === NUM_OF_DISP_RES_PC && 'active')}\r\n          // index={NUM_OF_DISP_RES_PC}\r\n          onMouseEnter={highlightMovieTextOnHover}\r\n          onClick={() => pushToHistory(`/`)} \r\n        >\r\n          show more\r\n        </p>\r\n        <img \r\n          className='closeImg'\r\n          src={closeImg} \r\n          onClick={() => setShowQuickSearchRes(false)}\r\n          alt=\"close search results\"\r\n        />\r\n      </li>}\r\n    </ul>\r\n  )\r\n}","import { useContext } from 'react'\r\nimport { AppContext } from 'AppFiles/Contexts/AppContext'\r\nimport { QUICK_SEARCH_TRANSITION } from 'Utils/Consts'\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\n\r\n\r\nexport default function UseSearchbarResultsTransition (Component) {\r\n  const { suggestions, showQuickSearchRes } = useContext(AppContext)\r\n\r\n  return (\r\n  <AnimatePresence exitBeforeEnter>\r\n    <motion.div\r\n      key={suggestions.length + showQuickSearchRes}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      transition={{ \r\n        // turnary showQuickSearchRes makse results show instantly after clicking searchbar. \r\n        // normally we would have QUICK_SEARCH_TRANSITION delay \r\n        duration: showQuickSearchRes ? QUICK_SEARCH_TRANSITION : 0, \r\n        ease: 'easeInOut' \r\n      }}\r\n    >\r\n      {Component}\r\n    </motion.div>\r\n  </AnimatePresence>\r\n  )\r\n}","import { useContext } from 'react'\r\nimport './SearchbarResults.scss'\r\nimport { AppContext } from 'AppFiles/Contexts/AppContext'\r\nimport NoResult from 'ReusableComponents/NoResult/NoResult'\r\nimport ResultsMobile from './ResultsMobile'\r\nimport ResultsPC from './ResultsPC'\r\nimport useDelayShowNoResults from 'Hooks/SearchbarHooks/useDelayShowNoResults'\r\nimport useSearchbarResultsTransition from 'Hooks/SearchbarHooks/useSearchbarResultsTransition'\r\nimport { isMobile } from \"react-device-detect\"\r\n\r\n\r\nexport default function MovieSearchbarResults() {\r\n  const { searchbarText, suggestions, showQuickSearchRes, setShowQuickSearchRes } = useContext(AppContext)\r\n\r\n  const showNoResults = useDelayShowNoResults(1000, searchbarText)\r\n  \r\n  return (\r\n  <div className='SearchbarResults'>\r\n    {useSearchbarResultsTransition(\r\n      <>\r\n        {suggestions.length > 0 && showQuickSearchRes\r\n        ? isMobile ? <ResultsMobile/> : <ResultsPC/>\r\n        : <NoResult \r\n            className={isMobile ? 'ResultsMobile' : 'ResultsPC'}\r\n            fadeInConditionsArr={[showQuickSearchRes, searchbarText, showNoResults]}\r\n            onClose={setShowQuickSearchRes}\r\n            closeBtn={isMobile ? 'btn' : 'img'}\r\n          />\r\n        }\r\n      </>\r\n    )}\r\n  </div>\r\n  )\r\n}","import {useState, useEffect} from 'react'\r\n\r\nexport default function useDelayShowNoResults(msDelay, stringDependency) {\r\n  // delays showing of NoResults component fot \"msDelay\" miliseconds\r\n\r\n  const [showNoResults, setShowNoResults] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if(stringDependency === ''){\r\n      setShowNoResults(false)\r\n    } else {\r\n      const timer = setTimeout(() => {\r\n        setShowNoResults(true)\r\n      }, msDelay);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [stringDependency, msDelay]);\r\n\r\n\r\n  return showNoResults\r\n}","import './NavSearchbar.scss'\r\nimport { useContext } from 'react'\r\nimport { AppContext } from 'AppFiles/Contexts/AppContext'\r\nimport { DebounceInput } from 'react-debounce-input';\r\nimport closeImg  from 'Images/close.svg'\r\nimport useKeysPressedInSearchbar from 'Hooks/SearchbarHooks/useKeysPressedInSearchbar'\r\nimport useShowHideQuickSearch from 'Hooks/SearchbarHooks/useShowHideQuickSearch'\r\nimport SearchbarResults from './Results/SearchbarResults'\r\n\r\n\r\nexport default function NavSearchbar() {\r\n  const { location, searchbarText, setSearchbarText, onSearchbarTextChanging, suggestions } = useContext(AppContext)\r\n  const enterKeyInSearchbar = useKeysPressedInSearchbar()\r\n  const {node, OnSearchBarClicked} = useShowHideQuickSearch()\r\n\r\n  const resetSearch = () => setSearchbarText('')\r\n  \r\n\r\n  return (\r\n    <div className='NavSearchbar' ref={node}>\r\n      <form onSubmit={e => e.preventDefault()}>\r\n        <DebounceInput\r\n          debounceTimeout={250}\r\n          onChange={onSearchbarTextChanging}\r\n          type='text'\r\n          placeholder='Search Movie'\r\n          value={searchbarText}\r\n          onClick={OnSearchBarClicked}\r\n          onKeyPress={enterKeyInSearchbar}\r\n        />\r\n        <img \r\n          src={closeImg} \r\n          onClick={resetSearch}\r\n          alt=\"close search\"\r\n        />\r\n      </form>\r\n\r\n      {(location.pathname !=='/' || suggestions.length === 0)\r\n      && <SearchbarResults />}\r\n    </div>\r\n  )\r\n}","import { useContext } from 'react'\r\nimport ArrowKeysReact from 'arrow-keys-react'\r\nimport { AppContext } from 'AppFiles/Contexts/AppContext'\r\nimport { NUM_OF_DISP_RES_PC } from 'Utils/Consts'\r\nimport GotoOtherRoutesHooks from './useGotoOtherRoutes'\r\n\r\n\r\nexport default function KeysPressedInSearchbarHooks() {\r\n  const { suggestions, pushToHistory, showQuickSearchRes, setShowQuickSearchRes, indexOfHighlightedMovie, setIndexOfHighlightedMovie} = useContext(AppContext)\r\n\r\n  const {selectedMovieInQuickSearch} = GotoOtherRoutesHooks()\r\n  \r\n  \r\n  function enterKeyInSearchbar(e){\r\n    const code = e.keyCode || e.which\r\n    if (code === 13 /* enter key */) {\r\n      if (!showQuickSearchRes) setShowQuickSearchRes(true)\r\n      if (showQuickSearchRes) {\r\n        if (indexOfHighlightedMovie === NUM_OF_DISP_RES_PC) {\r\n          pushToHistory(`/`)\r\n        } else {\r\n          selectedMovieInQuickSearch(suggestions[indexOfHighlightedMovie].id)\r\n        }\r\n      } \r\n    }\r\n  }\r\n\r\n  // Up and down arrow keys configuration\r\n  // allows using up and down key to select movie in quick search\r\n  ArrowKeysReact.config({\r\n    up: () => {\r\n      isNaN(indexOfHighlightedMovie)\r\n        ? setIndexOfHighlightedMovie(NUM_OF_DISP_RES_PC)\r\n        : indexOfHighlightedMovie < 0\r\n          ? setIndexOfHighlightedMovie(NUM_OF_DISP_RES_PC)\r\n          : setIndexOfHighlightedMovie(prevState => prevState - 1)\r\n    },\r\n    down: () => {\r\n      isNaN(indexOfHighlightedMovie)\r\n        ? setIndexOfHighlightedMovie(0)\r\n        : indexOfHighlightedMovie > NUM_OF_DISP_RES_PC\r\n          ? setIndexOfHighlightedMovie(0)\r\n          : setIndexOfHighlightedMovie(prevState => prevState + 1)\r\n    }\r\n  })\r\n\r\n\r\n  return enterKeyInSearchbar\r\n}","import { useEffect, useContext, useRef } from 'react'\r\nimport { AppContext } from 'AppFiles/Contexts/AppContext'\r\n\r\nexport default function ShowHideQuickSearchHook() {\r\n  const { searchbarText, showResInSearchBar, setShowQuickSearchRes } = useContext(AppContext)\r\n  const node = useRef()\r\n\r\n  function hideOnOutsideClick(e) {\r\n    if (!node.current.contains(e.target)){\r\n      setShowQuickSearchRes(false) \r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('mousedown', hideOnOutsideClick)\r\n    return () => {\r\n      // cleanup function - called when unmounted\r\n      document.removeEventListener('mousedown', hideOnOutsideClick)\r\n    }\r\n  }, [])\r\n\r\n  const OnSearchBarClicked = async e => {\r\n    setShowQuickSearchRes(true)\r\n    showResInSearchBar(searchbarText)\r\n  }\r\n\r\n  return {node, OnSearchBarClicked}\r\n}","import './Topbar.scss'\r\nimport menuIcon from 'Images/menu.svg'\r\nimport NavSearchbar from '../Searchbar/NavSearchbar'\r\nimport { useAuth } from 'AppFiles/Contexts/AuthContext'\r\n\r\n\r\nexport default function Topbar({ openSidebar, gotoHome, gotoRegister, gotoLogin, gotoUserPanel }) {\r\n  const { user, handleLogout } = useAuth()\r\n  return (\r\n    <nav className='TopBar'>\r\n      <div className='TopBarContainer'>\r\n\r\n      <NavSearchbar/>\r\n\r\n        <div className='hamburgerIconContainer'>\r\n          <img \r\n            className='hamburgerIcon'\r\n            src={menuIcon} \r\n            alt='menuIcon' \r\n            onClick={() => openSidebar()}\r\n          />\r\n        </div>\r\n        <ul className='NavMenu'>\r\n          <li className='NavItem'>\r\n            <div \r\n              className='NavLink' \r\n              onClick={() => gotoHome()}>\r\n              Home\r\n            </div>\r\n          </li>\r\n          <li className='NavItem'>\r\n            {!user && \r\n            <div \r\n              className='NavLink'\r\n              onClick={() => gotoRegister()}\r\n              >\r\n              Register\r\n            </div>}\r\n          </li>\r\n          <li className='NavItem'>\r\n            {user && \r\n            <div \r\n              className='NavLink'\r\n              onClick={() => gotoUserPanel()}\r\n              >\r\n              Profile\r\n            </div>}\r\n          </li>\r\n        </ul>\r\n        <div className='NavBtn'>\r\n        {!user &&\r\n          <div \r\n            className='NavBtnLink' \r\n            onClick={() => gotoLogin()}\r\n          >\r\n            login\r\n          </div>}\r\n          {user &&\r\n          <div \r\n            className='NavBtnLink' \r\n            onClick={() => handleLogout()}\r\n          >\r\n            Logout\r\n          </div>}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  )\r\n}","import './Sidebar.scss'\r\nimport closeIcon from 'Images/close.svg'\r\nimport { useAuth } from 'AppFiles/Contexts/AuthContext'\r\n\r\n\r\nexport default function Sidebar({isOpen, close, gotoHome, gotoRegister, gotoLogin, gotoUserPanel}) {\r\n  const { user, handleLogout } = useAuth()\r\n  return (\r\n    <nav className={'Sidebar ' + (isOpen && 'openSidebar')}>\r\n      <div className='closeIconContainer'>\r\n        <img \r\n          src={closeIcon} \r\n          className='closeIcon'\r\n          alt='The Movie Database Logo' \r\n          onClick={()=> close()}\r\n        />\r\n      </div>\r\n      <div className=\"sidebarWrapper\">\r\n        <ul className=\"sidebarMenu\">\r\n          <div \r\n            className=\"sidebarLink\"\r\n            onClick={() => gotoHome()}>\r\n            Home\r\n          </div>\r\n          {!user &&\r\n          <div \r\n            className=\"sidebarLink\"\r\n            onClick={() => gotoRegister()}>\r\n            Register\r\n          </div>}\r\n          {user &&\r\n          <div \r\n            className=\"sidebarLink\"\r\n            onClick={() => gotoUserPanel()}>\r\n            Profile\r\n          </div>}\r\n        </ul>\r\n        <div className=\"sidebarBtnWrap\">\r\n        {!user &&\r\n          <div \r\n            className='sidebarBtnLink' \r\n            onClick={() => gotoLogin()}>\r\n            Login\r\n          </div>}\r\n        {user &&\r\n          <div \r\n            className='sidebarBtnLink' \r\n            onClick={() => handleLogout()}>\r\n            Logout\r\n          </div>}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  )\r\n}","import { useState } from 'react'\r\nimport { useContext } from 'react'\r\nimport { AppContext } from 'AppFiles/Contexts/AppContext'\r\nimport Topbar from './Topbar/Topbar'\r\nimport Sidebar from './Sidebar/Sidebar'\r\nimport {BrowserRouter} from 'react-router-dom'\r\nimport { HOME_PAGE, LOGIN_PAGE, PROFILE_PAGE, REGISTER_PAGE } from 'Utils/Consts'\r\n\r\n\r\nexport default function Navbar() {\r\n  const { pushToHistory, fetchPopularMoviesOnStartPage, setAllMoviesData,} = useContext(AppContext)\r\n\r\n\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false)\r\n\r\n  const closeSidebar = () => setIsSidebarOpen(false)\r\n  const openSidebar = () => setIsSidebarOpen(true)\r\n  \r\n  const gotoHome = () => {\r\n    setAllMoviesData([])\r\n    fetchPopularMoviesOnStartPage()\r\n    pushToHistory(HOME_PAGE)\r\n    setIsSidebarOpen(false)\r\n  }\r\n\r\n  const gotoRegister = () => {\r\n    pushToHistory(REGISTER_PAGE)\r\n    setIsSidebarOpen(false)\r\n  }\r\n\r\n  const gotoLogin = () => {\r\n    pushToHistory(LOGIN_PAGE)\r\n    setIsSidebarOpen(false)\r\n  }\r\n\r\n  const gotoUserPanel = () => {\r\n    pushToHistory(PROFILE_PAGE)\r\n    setIsSidebarOpen(false)\r\n  }\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Sidebar \r\n        isOpen={isSidebarOpen}\r\n        close={closeSidebar}\r\n        gotoHome={gotoHome}\r\n        gotoRegister={gotoRegister}\r\n        gotoLogin={gotoLogin}\r\n        gotoUserPanel={gotoUserPanel}\r\n      />\r\n      <Topbar\r\n        openSidebar={openSidebar}\r\n        gotoHome={gotoHome}\r\n        gotoRegister={gotoRegister}\r\n        gotoLogin={gotoLogin}\r\n        gotoUserPanel={gotoUserPanel}\r\n      />\r\n    </BrowserRouter>\r\n  )\r\n}","import './ErrorMsg.scss'\r\n\r\nexport default function ErrorMsg({children}) {\r\n  return (\r\n    <div className='error'>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n","import { FastField, ErrorMessage} from 'formik'\r\nimport ErrorMsg from './ErrorMsg/ErrorMsg'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport default function Input({label, name, type, ...rest}) {\r\n  return (\r\n    <div className=\"formControl\">\r\n      <label htmlFor={name}>{label}</label>\r\n      <FastField\r\n        id={name}\r\n        name={name}\r\n        type={type}\r\n        {...rest} />\r\n      <ErrorMessage \r\n        name={name}\r\n        component={ErrorMsg}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nInput.propTypes = {\r\n  label: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  type: PropTypes.string,\r\n}","import { FastField, ErrorMessage} from 'formik'\r\nimport ErrorMsg from './ErrorMsg/ErrorMsg'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nexport default function Select({label, name, options, ...rest}) {\r\n  return (\r\n    <div className=\"formControl\">\r\n      <label htmlFor={name}>{label}</label>\r\n      <FastField\r\n        as='select'\r\n        id={name}\r\n        name={name}\r\n        {...rest}>\r\n        {\r\n          options.map(option => (\r\n            <option \r\n              key={option.value}\r\n              value={option.value}>\r\n              {option.key}\r\n            </option>\r\n          ))\r\n        }\r\n      </FastField>\r\n      <ErrorMessage \r\n        name={name} \r\n        component={ErrorMsg}/>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nSelect.propTypes = {\r\n  label: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  options: PropTypes.array.isRequired,\r\n}","import { FastField, ErrorMessage} from 'formik'\r\nimport ErrorMsg from './ErrorMsg/ErrorMsg'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nexport default function Textarea({label, name, ...rest}) {\r\n  return (\r\n    <div className=\"formControl\">\r\n      <label htmlFor={name}>{label}</label>\r\n      <FastField\r\n        as='textarea'\r\n        id={name}\r\n        name={name}\r\n        {...rest}/>\r\n      <ErrorMessage \r\n        name={name} \r\n        component={ErrorMsg}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nTextarea.propTypes = {\r\n  label: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n}","import { FastField, ErrorMessage} from 'formik'\r\nimport ErrorMsg from './ErrorMsg/ErrorMsg'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nexport default function RadioButtons({label, name, options, ...rest}) {\r\n  return (\r\n    <div className=\"formControl\">\r\n      <label htmlFor={name}>{label}</label>\r\n      <FastField\r\n        name={name}\r\n        {...rest}>\r\n        {\r\n          ({field}) => (\r\n            options.map(option => (\r\n              <div className='RadioBtnDiv' key=\r\n              {option.key}>\r\n                <label className='RadioBtnLabel' htmlFor={option.value}>\r\n                  {option.key}\r\n                </label>\r\n                <input\r\n                  type='radio'\r\n                  id={option.value}\r\n                  {...field} \r\n                  value={option.value}\r\n                  checked={field.value === option.value} />\r\n              </div>\r\n            ))\r\n          )\r\n        }\r\n      </FastField>\r\n      <ErrorMessage \r\n        name={name} \r\n        component={ErrorMsg}/>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nRadioButtons.propTypes = {\r\n  label: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  options: PropTypes.array.isRequired,\r\n}","import { FastField, ErrorMessage} from 'formik'\r\nimport ErrorMsg from './ErrorMsg/ErrorMsg'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nexport default function CheckboxGroup({label, name, options, ...rest}) {\r\n  return (\r\n    <div className=\"formControl\">\r\n      <label htmlFor={name}>{label}</label>\r\n      <FastField\r\n        name={name}\r\n        {...rest}>\r\n        {\r\n          ({field}) =>{\r\n          // console.log('field', field)\r\n           return(\r\n            options.map(option => (\r\n              <div key={option.key}>\r\n                <input\r\n                  type='checkbox'\r\n                  id={option.value}\r\n                  {...field} \r\n                  value={option.value}\r\n                  checked={field.value && field.value.includes(option.value)} \r\n                />\r\n                <label htmlFor={option.value}>\r\n                  {option.key}\r\n                </label>\r\n              </div>\r\n            ))\r\n          )}\r\n        }\r\n      </FastField>\r\n      <ErrorMessage \r\n        name={name} \r\n        component={ErrorMsg}/>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nCheckboxGroup.propTypes = {\r\n  label: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  options: PropTypes.array.isRequired,\r\n}","import PropTypes from 'prop-types'\r\nimport Input from './Templates/Input'\r\nimport Select from './Templates/Select'\r\nimport Textarea from './Templates/Textarea'\r\nimport RadioButtons from './Templates/RadioButtons'\r\nimport CheckboxGroup from './Templates/CheckboxGroup'\r\n\r\nexport default function FormikControl({control, ...rest}) {\r\n  switch(control) {\r\n    case 'input': return <Input {...rest} />\r\n    case 'textarea': return <Textarea {...rest} />\r\n    case 'select': return <Select {...rest} />\r\n    case 'radio': return <RadioButtons {...rest} />\r\n    case 'checkbox': return <CheckboxGroup {...rest} />\r\n    default: return null\r\n  }\r\n}\r\n\r\nFormikControl.propTypes = {\r\n  control: PropTypes.string.isRequired,\r\n  \r\n  // PropTypes used in children components\r\n  name: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  type: PropTypes.string,\r\n  options: PropTypes.array,\r\n}","import './OnSubmitMsg.scss'\r\n\r\nexport default function OnSubmitMsg({submitStatus, message}) {\r\n  return (\r\n    <div className='OnSubmitMsg'>\r\n\r\n      {submitStatus === 'success' && \r\n        <p className='submitSuccess'>\r\n          {message}\r\n        </p>\r\n      }\r\n\r\n      {submitStatus === 'error' && \r\n        <p className='submitError'>\r\n          {message}\r\n        </p>\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { Formik, Form } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport { motion } from \"framer-motion\"\r\nimport FormikControl from '../FormikControl/FormikControl'\r\nimport OnSubmitMsg from '../OnSubmitMsg/OnSubmitMsg'\r\nimport './Register.scss'\r\nimport { usersCollection } from 'Utils/firebase'\r\nimport { useAuth } from 'AppFiles/Contexts/AuthContext'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { PROFILE_PAGE, LOGIN_PAGE, PAGE_TRANSITION_TIME } from 'Utils/Consts'\r\n\r\n\r\nexport default function Register() {\r\n  const history = useHistory()\r\n  const { register } = useAuth()\r\n  const [submitMsg, setSubmitMsg] = useState()\r\n\r\n\r\n  const initialValues = {\r\n    email: '',\r\n    username: '',\r\n    password: '',\r\n  }\r\n\r\n  const validationSchema = Yup.object({\r\n    email: Yup.string().email('Invalid email format').required('Required'),\r\n    username: Yup.string().required('Required'),\r\n    password: Yup.string().required('Required').min(6),\r\n  })\r\n  \r\n\r\n  const onSubmit = async(values, onSubmitProps) => {\r\n    setSubmitMsg({})\r\n    console.log('Form values:', values)\r\n    try {\r\n      const registerRes = await register(values.email, values.password)\r\n      // console.log('register response', registerRes)\r\n\r\n      try {\r\n        await usersCollection.doc(registerRes.user.uid).set({\r\n          username: values.username\r\n        })\r\n        history.push(PROFILE_PAGE)\r\n      } catch (err){\r\n        setSubmitMsg({\r\n          submitStatus: 'error',\r\n          message: err.message\r\n        })\r\n      }\r\n\r\n    } catch (err){\r\n      setSubmitMsg({\r\n        submitStatus: 'error',\r\n        message: err.message\r\n      })\r\n    }\r\n\r\n    onSubmitProps.setSubmitting(false)  //enables button\r\n  }\r\n\r\n\r\nreturn (\r\n  <motion.div \r\n    className='Register'\r\n\r\n    initial={{ opacity: 0 }}\r\n    animate={{ opacity: 1, delay :0.2 }}\r\n    exit={{ opacity: 0 }}\r\n    transition={{ duration: PAGE_TRANSITION_TIME }}\r\n  >\r\n    <h2>Register</h2>\r\n    <Formik \r\n      initialValues={initialValues}\r\n      validationSchema={validationSchema}\r\n      onSubmit={onSubmit}\r\n      enableReinitialize\r\n    >\r\n    {\r\n    formik => {\r\n      // console.log(formik)\r\n      return (\r\n        <div className='FormContainer'>\r\n          <Form className=\"form\">\r\n\r\n            <FormikControl \r\n              control='input' \r\n              type='email'\r\n              name='email'\r\n              label='email' />\r\n\r\n            <FormikControl \r\n              control='input' \r\n              type='text'\r\n              name='username'\r\n              label='username' />\r\n\r\n            <FormikControl \r\n              control='input' \r\n              type='password'\r\n              name='password'\r\n              label='password' />\r\n\r\n            <button \r\n              className=\"btn btn-success btn-green\"\r\n              type='submit'\r\n              disabled={!formik.isValid || formik.isSubmitting}\r\n              >Register\r\n            </button>\r\n\r\n            <OnSubmitMsg {...submitMsg} />\r\n\r\n          </Form>\r\n        </div>\r\n        )}\r\n      }\r\n    </Formik>\r\n    <div className='border-top pt-3'>\r\n      <button \r\n        className='btn btn-dark w-100'\r\n        onClick={() => history.push(LOGIN_PAGE)}>\r\n          Have an account? Login\r\n      </button>\r\n    </div>\r\n  </motion.div>\r\n)\r\n}","import { useState } from 'react'\r\nimport { Formik, Form } from 'formik'\r\nimport { motion } from \"framer-motion\"\r\nimport * as Yup from 'yup'\r\nimport FormikControl from '../FormikControl/FormikControl'\r\nimport OnSubmitMsg from '../OnSubmitMsg/OnSubmitMsg'\r\nimport './Login.scss'\r\nimport { useAuth } from 'AppFiles/Contexts/AuthContext'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { PROFILE_PAGE, FORGOT_PASSWORD, REGISTER_PAGE, PAGE_TRANSITION_TIME } from 'Utils/Consts'\r\n\r\n\r\nexport default function Login() {\r\n  const history = useHistory()\r\n  const { login } = useAuth()\r\n  const [submitMsg, setSubmitMsg] = useState()\r\n\r\n\r\n  const initialValues = {\r\n    email: '',\r\n    password: '',\r\n  }\r\n\r\n  // remember to comment out validation that is not used because form will not submit\r\n  const validationSchema = Yup.object({\r\n    email: Yup.string().email('Invalid email format').required('Required'),\r\n    password: Yup.string().required('Required').min(6),\r\n  })\r\n  \r\n  const onSubmit = async(values, onSubmitProps) => {\r\n    setSubmitMsg({})\r\n    console.log('Form values:', values)\r\n    try {\r\n      const registerRes = await login(values.email, values.password)\r\n      // console.log('login response', registerRes)\r\n      history.push(PROFILE_PAGE)\r\n    } catch (err){\r\n      setSubmitMsg({\r\n        submitStatus: 'error',\r\n        message: err.message\r\n      })\r\n    }\r\n\r\n    onSubmitProps.setSubmitting(false)  //enables button\r\n  }\r\n\r\n\r\nreturn (\r\n  <motion.div \r\n    className='Login'\r\n\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1, delay :0.2 }}\r\n      exit={{ opacity: 0 }}\r\n      transition={{ duration: PAGE_TRANSITION_TIME }}\r\n  >\r\n    <h2>Login</h2>\r\n    <Formik \r\n      initialValues={initialValues}\r\n      validationSchema={validationSchema}\r\n      onSubmit={onSubmit}\r\n      enableReinitialize\r\n    >\r\n    {\r\n    formik => {\r\n      // console.log(formik)\r\n      return (\r\n        <div className='FormContainer'>\r\n          <Form className=\"form\">\r\n\r\n            <FormikControl \r\n              control='input' \r\n              type='email'\r\n              name='email'\r\n              label='email' />\r\n\r\n            <FormikControl \r\n              control='input' \r\n              type='password'\r\n              name='password'\r\n              label='password' />\r\n\r\n            <button \r\n              className=\"btn btn-success btn-green\"\r\n              type='submit'\r\n              disabled={!formik.isValid || formik.isSubmitting}\r\n              >Log In\r\n            </button>\r\n\r\n            <OnSubmitMsg {...submitMsg} />\r\n\r\n          </Form>\r\n        </div>\r\n        )}\r\n      }\r\n    </Formik>\r\n      <button \r\n        className='btn btn-link forgot w-100 mb-1'\r\n        onClick={() => history.push(FORGOT_PASSWORD)}>\r\n          Forgot password?\r\n      </button>\r\n    <div className='border-top pt-3'>\r\n      <button \r\n        className='btn btn-dark w-100'\r\n        onClick={() => history.push(REGISTER_PAGE)}>\r\n          Need an account? Register\r\n      </button>\r\n    </div>\r\n  </motion.div>\r\n)\r\n}","import { motion, AnimatePresence } from \"framer-motion\"\r\nimport s from './ProfilePosterCard.module.scss'\r\nimport ImageFadeIn from \"react-image-fade-in\"\r\nimport no_image from 'Images/no_image.png'\r\nimport PropTypes from 'prop-types'\r\n\r\nPosterCard.propTypes = {\r\n  cardData: PropTypes.object, \r\n  onClick: PropTypes.func, \r\n  className: PropTypes.string, \r\n  cardTransitionDuration: PropTypes.number, \r\n  imgTransition: PropTypes.number, \r\n  imgHeight: PropTypes.string, \r\n  imgWidth: PropTypes.string\r\n}\r\n\r\nexport default function PosterCard ({\r\n  cardData, onClick, className, cardTransitionDuration, imgTransition, imgHeight, imgWidth}) {\r\n \r\n  return (\r\n  <AnimatePresence exitBeforeEnter>\r\n    <motion.div\r\n      id={s.PosterCard}\r\n      className={className}\r\n      onClick={() => onClick(cardData.id)}\r\n\r\n      key={cardData.id}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      transition={{ duration: cardTransitionDuration, ease: 'easeInOut' }}\r\n    >\r\n      <div >\r\n        <p className={s.rating}>{cardData.rating}</p>\r\n        <ImageFadeIn\r\n          width={imgWidth}\r\n          height={imgHeight}\r\n          opacityTransition={imgTransition}\r\n          src={cardData.poster ? cardData.poster : no_image}\r\n          alt={`poster ${cardData.id}`}\r\n        />\r\n        <p className={s.status}>{cardData.status}</p>\r\n        <p>{cardData.title}</p>\r\n      </div>\r\n    </motion.div>\r\n  </AnimatePresence>\r\n  )\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport s from './MoviesCollection.module.sass'\r\nimport ProfilePosterCard from '../ProfilePosterCard/ProfilePosterCard'\r\nimport { START_PAGE_CARDS_TRANSITION } from 'Utils/Consts'\r\nimport useGotoOtherRoutes from 'Hooks/SearchbarHooks/useGotoOtherRoutes'\r\n\r\n\r\nexport default function MoviesCollectionDisp({userMovies}) {\r\n  const {selectedMovieInProfilePage} = useGotoOtherRoutes() \r\n\r\n\r\n  return (\r\n    <div className={s.MoviesCollection}>\r\n      <h2>Movie List:</h2>\r\n      <div className='row'>\r\n        { userMovies.length > 0 && userMovies.map(cardData => (\r\n          <ProfilePosterCard \r\n            className='col-xl-2 col-md-3 col-sm-4 col-6'\r\n            cardData={cardData} \r\n            onClick={selectedMovieInProfilePage}\r\n            cardTransitionDuration={START_PAGE_CARDS_TRANSITION}\r\n            imgTransition={0.5}\r\n            imgHeight={'750'}\r\n            imgWidth={'500'}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import s from './MoviesCollection.module.sass'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nexport default function MoviesCollectionEmpty() {\r\n  const history = useHistory()\r\n  return (\r\n    <div className={`${s.MoviesCollection} ${s.Empty}`}>\r\n      <h2>Movie List:</h2>\r\n      <p>\r\n        Your list is empty. <br></br>\r\n        Search for a movie you want to add. When you open movie page, you can add status and rating to it. \r\n      </p>  \r\n      <p \r\n        className={s.ExampleMovie}\r\n        onClick={() => history.push('/movie/399566')}>\r\n        Click here to go to example movie\r\n      </p>  \r\n    </div>\r\n  )\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport {useEffect, useState} from 'react'\r\nimport { useAuth } from 'AppFiles/Contexts/AuthContext'\r\nimport MoviesCollectionDisp from './MoviesCollectionDisp'\r\nimport MoviesCollectionEmpty from './MoviesCollectionEmpty'\r\nimport { POSTER_W500, START_PAGE_CARDS_TRANSITION } from 'Utils/Consts'\r\nimport {getMovieData} from 'Utils/FetchFunctions'\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\n\r\n\r\nexport default function MoviesCollectionLogic() {\r\n  const { userData } = useAuth()\r\n  const [loading, setLoading] = useState(true)\r\n  const [userMovies, setUserMovies] = useState()\r\n\r\n\r\n  useEffect(async() => {\r\n    async function initUserMovies(){\r\n      // transforms object of objects form firebase to array of objects\r\n      const moviesArrFromFirebase = Object.entries(userData.movies) // create array of arrays\r\n      let newArrToDisp = []\r\n  \r\n      for (const [id, movie] of moviesArrFromFirebase) {\r\n        const tmdb = await getMovieData(id) // request movieData form tmdb to get poster\r\n        console.log(tmdb)\r\n  \r\n        newArrToDisp.push({\r\n          id: id,\r\n          status: movie.status,\r\n          rating: movie.rating,\r\n          title: tmdb.title,\r\n          poster: tmdb.poster_path !== null ? POSTER_W500 + tmdb.poster_path : null\r\n        })\r\n      }\r\n      \r\n      return newArrToDisp // return array of objects\r\n    }\r\n\r\n    \r\n    userData.movies && setUserMovies(await initUserMovies())\r\n  }, [])\r\n\r\n\r\n  useEffect(() => {\r\n    //neccesary because userMovies first update with promise and then array\r\n    if(Array.isArray(userMovies) || !userData.movies){\r\n      setLoading(false)\r\n    }\r\n  }, [userMovies])\r\n\r\n  return (\r\n    <>\r\n    <AnimatePresence exitBeforeEnter>\r\n      <motion.div\r\n        // key={cardData.id}\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        exit={{ opacity: 0 }}\r\n        transition={{ duration: 0.8, ease: 'easeInOut' }}\r\n      >\r\n        {!loading &&\r\n        (userMovies && userMovies.length > 0 \r\n          ? <MoviesCollectionDisp userMovies={userMovies}/>\r\n          : <MoviesCollectionEmpty/>)}\r\n      </motion.div>\r\n    </AnimatePresence>\r\n    </>\r\n  )\r\n}","import {useEffect, useState} from 'react'\r\nimport s from './Profile.module.sass'\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\nimport { useAuth } from 'AppFiles/Contexts/AuthContext'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { PAGE_TRANSITION_TIME, UPDATE_PROFILE } from 'Utils/Consts'\r\nimport MoviesCollectionLogic from './MoviesCollection/MoviesCollectionLogic'\r\n\r\n\r\nexport default function Profile() {\r\n  const history = useHistory()\r\n  const { user, handleLogout, userData } = useAuth()\r\n  const [loading, setLoading] = useState(true)\r\n\r\n\r\n  useEffect(() => {\r\n    if (userData.username)\r\n      setLoading(false)\r\n  }, [userData])\r\n\r\n\r\n  return (\r\n    <motion.div \r\n      className={s.Profile}\r\n\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1, delay :0.2 }}\r\n      exit={{ opacity: 0 }}\r\n      transition={{ duration: PAGE_TRANSITION_TIME }}\r\n    >\r\n      { !loading &&\r\n      <div className={s.container}>\r\n        <div className={s.profileCard}>\r\n          <h2>Profile</h2>\r\n          <div className={s.userData}>\r\n            <p><strong>Email:</strong> {user.email}</p>\r\n            <p><strong>Username:</strong> {userData.username}</p>\r\n          </div>\r\n          <div className={s.buttons}>\r\n            <button \r\n              className={`${s.button} btn btn-success`}\r\n              onClick={() => history.push(UPDATE_PROFILE)}\r\n              >Update Profile\r\n            </button>\r\n            <button \r\n              className={`${s.button} btn btn-dark`}\r\n              onClick={() => handleLogout()}>\r\n              Log out</button>\r\n          </div>\r\n        </div>\r\n          \r\n        <MoviesCollectionLogic/>\r\n\r\n      </div>\r\n      }\r\n    </motion.div>\r\n  )\r\n}","import { useState } from 'react'\r\nimport { Formik, Form } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport { motion } from \"framer-motion\"\r\nimport FormikControl from '../FormikControl/FormikControl'\r\nimport OnSubmitMsg from '../OnSubmitMsg/OnSubmitMsg'\r\nimport './ForgotPassword.scss'\r\nimport { useAuth } from 'AppFiles/Contexts/AuthContext'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { LOGIN_PAGE, PAGE_TRANSITION_TIME, REGISTER_PAGE } from 'Utils/Consts'\r\n\r\n\r\nexport default function ForgotPassword() {\r\n  const history = useHistory()\r\n  const { resetPassword } = useAuth()\r\n  const [submitMsg, setSubmitMsg] = useState()\r\n\r\n\r\n  const initialValues = {\r\n    email: '',\r\n  }\r\n\r\n  // remember to comment out validation that is not used because form will not submit\r\n  const validationSchema = Yup.object({\r\n    email: Yup.string().email('Invalid email format').required('Required'),\r\n  })\r\n  \r\n  const onSubmit = async(values, onSubmitProps) => {\r\n    setSubmitMsg({})\r\n    console.log('Form values:', values)\r\n    try {\r\n      await resetPassword(values.email)\r\n      setSubmitMsg({\r\n        submitStatus: 'success',\r\n        message: 'Instructon for reseting your password were send to your email'\r\n      })\r\n    } catch (err){\r\n      setSubmitMsg({\r\n        submitStatus: 'error',\r\n        message: err.message\r\n      })\r\n    }\r\n\r\n    onSubmitProps.setSubmitting(false)  //enables button\r\n  }\r\n\r\n\r\nreturn (\r\n  <motion.div \r\n    className='ForgotPassword'\r\n    \r\n    initial={{ opacity: 0 }}\r\n    animate={{ opacity: 1, delay :0.2 }}\r\n    exit={{ opacity: 0 }}\r\n    transition={{ duration: PAGE_TRANSITION_TIME }}\r\n  >\r\n    <h2>Password Reset</h2>\r\n    <Formik \r\n      initialValues={initialValues}\r\n      validationSchema={validationSchema}\r\n      onSubmit={onSubmit}\r\n      enableReinitialize\r\n    >\r\n    {\r\n    formik => {\r\n      // console.log(formik)\r\n      return (\r\n        <div className='FormContainer'>\r\n          <Form className=\"form\">\r\n\r\n            <FormikControl \r\n              control='input' \r\n              type='email'\r\n              name='email'\r\n              label='email' />\r\n\r\n            <button \r\n              className=\"btn btn-success btn-green\"\r\n              type='submit'\r\n              disabled={!formik.isValid || formik.isSubmitting}\r\n              >Reset Password\r\n            </button>\r\n\r\n            <OnSubmitMsg {...submitMsg} />\r\n\r\n          </Form>\r\n        </div>\r\n        )}\r\n      }\r\n    </Formik>\r\n      <button \r\n        className='btn btn-link forgot w-100 mb-1'\r\n        onClick={() => history.push(LOGIN_PAGE)}>\r\n          Login?\r\n      </button>\r\n    <div className='border-top pt-3'>\r\n      <button \r\n        className='btn btn-dark w-100'\r\n        onClick={() => history.push(REGISTER_PAGE)}>\r\n          Need an account? Register\r\n      </button>\r\n    </div>\r\n  </motion.div>\r\n)\r\n}","import { useState } from 'react'\r\nimport { Formik, Form } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport { motion } from \"framer-motion\"\r\nimport FormikControl from '../FormikControl/FormikControl'\r\nimport OnSubmitMsg from '../OnSubmitMsg/OnSubmitMsg'\r\nimport './UpdateProfile.scss'\r\nimport { useAuth } from 'AppFiles/Contexts/AuthContext'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { PAGE_TRANSITION_TIME, PROFILE_PAGE } from 'Utils/Consts'\r\nimport {usersCollection} from 'Utils/firebase'\r\n\r\n\r\nexport default function UpdateProfile() {\r\n  const history = useHistory()\r\n  const { user, userData, setUserData, loadUserData, updatePassword, updateEmail } = useAuth()\r\n  const [emailUpdateMsg, setEmailUpdateMsg] = useState()\r\n  const [passwordUpdateMsg, setPasswordUpdateMsg] = useState()\r\n\r\n\r\n  const initialValues = {\r\n    email: user.email,\r\n    username: userData.username,\r\n    password: '',\r\n  }\r\n\r\n  const validationSchema = Yup.object({\r\n    email: Yup.string().email('Invalid email format').required('Required'),\r\n    username: Yup.string().required('Required'),\r\n    password: Yup.string().min(6),\r\n  })\r\n  \r\n\r\n  const onSubmit = async(values, onSubmitProps) => {\r\n    setEmailUpdateMsg({})\r\n    setPasswordUpdateMsg({})\r\n    console.log('Form values:', values)\r\n\r\n    if(values.email !== user.email){\r\n      try{\r\n        await updateEmail(values.email)\r\n        setUserData({})\r\n        loadUserData()\r\n        history.push(PROFILE_PAGE)\r\n      } catch (err){\r\n        setEmailUpdateMsg({\r\n          submitStatus: 'error',\r\n          message: 'Failed to update email. Email is probably used by another user.'\r\n        })\r\n      }\r\n    }\r\n    \r\n    if(values.password){\r\n      try{\r\n        await updatePassword(values.password)\r\n        loadUserData()\r\n        history.push(PROFILE_PAGE)\r\n      } catch (err){\r\n        setPasswordUpdateMsg({\r\n          submitStatus: 'error',\r\n          message: 'Failed to update password.'\r\n        })\r\n      }\r\n    }\r\n\r\n    if(values.email !== user.email){\r\n      try{\r\n        await updateEmail(values.email)\r\n        loadUserData()\r\n        history.push(PROFILE_PAGE)\r\n      } catch (err){\r\n        setEmailUpdateMsg({\r\n          submitStatus: 'error',\r\n          message: 'Failed to update email. Email is probably used by another user.'\r\n        })\r\n      }\r\n    }\r\n\r\n    if(values.username !== userData.username){\r\n      try {\r\n        await usersCollection.doc(user.uid).set({\r\n          username: values.username\r\n        }, { merge: true })\r\n        loadUserData()\r\n        history.push(PROFILE_PAGE)\r\n      } catch (err){\r\n        console.log(err)\r\n        // setSubmitMsg({\r\n        //   submitStatus: 'error',\r\n        //   message: err.message\r\n        // })\r\n      }\r\n    }\r\n\r\n    onSubmitProps.setSubmitting(false)  //enables button\r\n  }\r\n\r\n\r\n\r\n\r\n///////////////////////////////////////////////////\r\nreturn (\r\n  <motion.div \r\n    className='UpdateProfile'\r\n\r\n    initial={{ opacity: 0 }}\r\n    animate={{ opacity: 1, delay :0.2 }}\r\n    exit={{ opacity: 0 }}\r\n    transition={{ duration: PAGE_TRANSITION_TIME }}\r\n  >\r\n    <h2>Update Profile</h2>\r\n    <Formik \r\n      initialValues={initialValues}\r\n      validationSchema={validationSchema}\r\n      onSubmit={onSubmit}\r\n      enableReinitialize\r\n    >\r\n    {\r\n    formik => {\r\n      // console.log(formik)\r\n      return (\r\n        <div className='FormContainer'>\r\n          <Form className=\"form\">\r\n\r\n            <FormikControl \r\n              control='input' \r\n              type='email'\r\n              name='email'\r\n              label='email' />\r\n\r\n            <FormikControl \r\n              control='input' \r\n              type='text'\r\n              name='username'\r\n              label='username' />\r\n\r\n            <FormikControl \r\n              control='input' \r\n              type='password'\r\n              name='password'\r\n              label='password'\r\n              placeholder='Leave blank to keep the same' />\r\n\r\n            <button \r\n              className=\"btn btn-success btn-green\"\r\n              type='submit'\r\n              disabled={!formik.isValid || formik.isSubmitting}\r\n              >Update\r\n            </button>\r\n\r\n            <OnSubmitMsg {...emailUpdateMsg} />\r\n            <OnSubmitMsg {...passwordUpdateMsg} />\r\n          </Form>\r\n        </div>\r\n        )}\r\n      }\r\n    </Formik>\r\n    <div className='border-top pt-3'>\r\n      <button \r\n        className='btn btn-dark w-100'\r\n        onClick={() => history.push(PROFILE_PAGE)}>\r\n          Cancel\r\n      </button>\r\n    </div>\r\n  </motion.div>\r\n)\r\n}","import React from 'react'\r\nimport { Redirect, Route } from 'react-router-dom'\r\nimport { useAuth } from 'AppFiles/Contexts/AuthContext'\r\n\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  const { user } = useAuth()\r\n\r\n  return (\r\n    <Route \r\n      {...rest}\r\n      render={props => {\r\n        return user ? <Component {...props} /> : <Redirect to='/login' />\r\n      }}>\r\n    </Route>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { Route, Switch, useLocation, useHistory } from 'react-router-dom'\r\nimport { AnimatePresence } from \"framer-motion\"\r\nimport { AppContext } from 'AppFiles/Contexts/AppContext'\r\nimport AppScroolbar from 'ReusableComponents/AppScroollbar/AppScrollbar'\r\nimport { getMoviesDataToDisplayInSearch, getAllMoviesData,  createSearchMoviesUrl } from 'Utils/FetchFunctions'\r\nimport { POPULAR_MOVIES_URL, HOME_PAGE, MOVIE_PAGE, REGISTER_PAGE, LOGIN_PAGE, FORGOT_PASSWORD, PROFILE_PAGE, UPDATE_PROFILE } from 'Utils/Consts'\r\nimport ArrowKeysReact from 'arrow-keys-react'\r\n\r\nimport StartPage from 'AppFiles/StartPage/StartPage'\r\nimport MoviePage from 'AppFiles/Movie/MoviePage'\r\nimport { isMobile } from \"react-device-detect\"\r\n\r\nimport Navbar from 'AppFiles/Navbar/Navbar'\r\nimport Register from 'AppFiles/Forms/Register/Register'\r\nimport Login from 'AppFiles/Forms/Login/Login'\r\nimport AuthProvider from 'AppFiles/Contexts/AuthContext'\r\nimport Profile from 'AppFiles/Profile/Profile'\r\nimport ForgotPassword from 'AppFiles/Forms/ForgotPassword/ForgotPassword'\r\nimport UpdateProfile from 'AppFiles/Forms/UpdateProfile/UpdateProfile'\r\nimport PrivateRoute from 'Utils/PrivateRoute'\r\nimport { useMovieContext } from 'AppFiles/Contexts/MovieContext'\r\n\r\n\r\nexport default function App () {\r\n  const { movieID } = useMovieContext()\r\n  const location = useLocation()  // key to app routes\r\n  const history = useHistory()\r\n  const pushToHistory = url => history.push(url)\r\n\r\n\r\n// ==== Fetch StartPage ====\r\n  const [suggestions, setSuggestions] = useState([])\r\n  const [searchbarText, setSearchbarText] = useState('')\r\n\r\n  async function fetchPopularMoviesOnStartPage() {\r\n    setSuggestions(await getMoviesDataToDisplayInSearch(POPULAR_MOVIES_URL))\r\n  }\r\n\r\n  useEffect(() => {\r\n    // HomePage: if search is empty display popular movies\r\n    if(location.pathname === '/' && !searchbarText)\r\n      fetchPopularMoviesOnStartPage()  \r\n\r\n    // dont clear movies when we transitioning out of Main page\r\n    else if(searchbarText === '' && location.pathname !=='/') {\r\n      setTimeout(() => {\r\n        setSuggestions([])\r\n      }, 600) // debounc time + animation time\r\n    }\r\n  }, [searchbarText, location.pathname])\r\n\r\n// ==== END Fetch StartPage ====\r\n\r\n\r\n\r\n// ==== Search state and functions ====\r\n  const [allMoviesData, setAllMoviesData] = useState([])\r\n  const [dispPostersNum, setDispPostersNum] = useState(isMobile ? 9 : 12)\r\n\r\n  const onSearchbarTextChanging = e => {\r\n    const value = e.target.value.replace(/[^\\w\\s]/gi, '')\r\n    setSearchbarText(value)\r\n    showResInSearchBar(value)\r\n  }\r\n\r\n  const showResInSearchBar = async (value) => {\r\n    setDispPostersNum(isMobile ? 6 : 12)\r\n    if (value.length >= 1) {\r\n      const allMoviesData = await getAllMoviesData(createSearchMoviesUrl(value))\r\n      const dataToDisplay = await getMoviesDataToDisplayInSearch(allMoviesData)\r\n\r\n      setAllMoviesData(allMoviesData)\r\n      setSuggestions(dataToDisplay)\r\n    }\r\n    \r\n    isMobile && setTimeout(() => {\r\n      setDispPostersNum(9)\r\n    }, 1000) // adds 3 more posters\r\n  }\r\n\r\n  // State of MovieSeachbar\r\n  const [showQuickSearchRes, setShowQuickSearchRes] = useState(false)\r\n  const [indexOfHighlightedMovie, setIndexOfHighlightedMovie] = useState()\r\n  \r\n  // ==== END Search state and functions ====\r\n\r\n\r\n\r\n// ==== Console log stuff ====\r\n  useEffect(() => {\r\n    console.log({suggestions})\r\n  }, [suggestions])\r\n\r\n  // useEffect(() => {\r\n  //   console.log(`searchbarText: ${searchbarText}`)\r\n  // }, [searchbarText])\r\n\r\n  // useEffect(() => {\r\n  //   console.log(`showQuickSearchRes: ${showQuickSearchRes}`)\r\n  // }, [showQuickSearchRes])\r\n\r\n// ==== END Console log stuff ====\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        id='app'\r\n        {...ArrowKeysReact.events}\r\n        tabIndex='1'\r\n      >\r\n        <AppContext.Provider \r\n          value={{searchbarText, setSearchbarText, suggestions, setSuggestions,  onSearchbarTextChanging, allMoviesData, setAllMoviesData,  fetchPopularMoviesOnStartPage, showResInSearchBar, history, location, pushToHistory, dispPostersNum, setDispPostersNum, showQuickSearchRes, setShowQuickSearchRes, indexOfHighlightedMovie, setIndexOfHighlightedMovie}}\r\n        >\r\n          <AuthProvider>\r\n            <Navbar/>\r\n            <AppScroolbar>\r\n              <AnimatePresence exitBeforeEnter>\r\n                <Switch \r\n                  location={location} \r\n                  key={location.pathname}\r\n                >\r\n                  <Route exact path={HOME_PAGE} render={() => <StartPage/>} />\r\n                  <Route exact path={`${MOVIE_PAGE}:${movieID}`} render={() => <MoviePage/>} />\r\n                  <Route exact path={REGISTER_PAGE} render={() => <Register/>} />\r\n                  <Route exact path={LOGIN_PAGE} render={() => <Login/>} />\r\n                  <Route exact path={FORGOT_PASSWORD} render={() => <ForgotPassword/>} />\r\n                  <PrivateRoute exact path={PROFILE_PAGE} component={Profile} />\r\n                  <PrivateRoute exact path={UPDATE_PROFILE} component={UpdateProfile} />\r\n                </Switch>\r\n              </AnimatePresence>\r\n          </AppScroolbar>\r\n          </AuthProvider>\r\n        </AppContext.Provider>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import ReactDOM from 'react-dom'\r\nimport App from 'App'\r\nimport 'styles/App.scss'\r\nimport MovieProvider from 'AppFiles/Contexts/MovieContext'\r\n\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <MovieProvider>\r\n      <App />\r\n    </MovieProvider>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"Profile_Profile__TZNBi\",\"container\":\"Profile_container__1K79n\",\"profileCard\":\"Profile_profileCard__2rXbq\",\"userData\":\"Profile_userData__PXnlA\",\"buttons\":\"Profile_buttons__29010\",\"button\":\"Profile_button__58ype\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MoviesCollection\":\"MoviesCollection_MoviesCollection__28Ti2\",\"Empty\":\"MoviesCollection_Empty__FwzYv\",\"ExampleMovie\":\"MoviesCollection_ExampleMovie__4cXYS\"};"],"sourceRoot":""}