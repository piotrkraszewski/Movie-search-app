(this["webpackJsonpmy-movie-search"]=this["webpackJsonpmy-movie-search"]||[]).push([[0],{11:function(e,t,c){},36:function(e,t,c){},77:function(e,t,c){"use strict";c.r(t);var n=c(38),a=c.n(n),s=(c(46),c(27)),i=c(13),r=c.n(i),o=c(21),l=c(4),u=c(0),d=(c(11),c(2)),j=c(9),b=Object(u.createContext)(null),h=c(22),m=c.n(h),p=c(15),g=c(16),O=c(20),f=c(19),x=c(17),v=c.n(x),N=(c(36),c(1)),S=function(e){Object(O.a)(c,e);var t=Object(f.a)(c);function c(){return Object(p.a)(this,c),t.apply(this,arguments)}return Object(g.a)(c,[{key:"componentDidMount",value:function(){this.setState({onXReachEnd:function(){return console.log()}})}},{key:"render",value:function(){return Object(N.jsx)(v.a,{className:"AppScroolbar",children:this.props.children})}}]),c}(u.Component),y=c(18),w=c.n(y),C=c(10),k=c.p+"static/media/no_image.2f8a70e1.png";function I(){var e=Object(u.useContext)(b),t=e.searchbarText,c=e.suggestions,n=e.setSliceNumber,a=e.setMovieID;return Object(N.jsx)("div",{className:"StartPageCardTransition",children:Object(N.jsxs)("div",{className:"StartPageCard",children:[Object(N.jsx)("p",{className:"Popular",children:""===t||null===t?"Trending Now":""}),Object(N.jsx)("div",{className:"row",children:c.map((function(e,t){return Object(N.jsx)("div",{className:"cardContainer col-xl-2 col-md-3 col-4",children:Object(N.jsx)(C.b,{to:"/movie/".concat(e[1]),className:"linkStyle",children:Object(N.jsxs)("div",{className:"cardFS",onClick:function(){return a(e[1]),void n(5)},children:[Object(N.jsx)("img",{className:"posterImage",src:"https://image.tmdb.org/t/p/w500null"!==e[2]?e[2]:k}),Object(N.jsx)("h1",{className:"FS-title",children:e[0]})]})})},t)}))})]})})}var T=c(40);function E(){var e=Object(u.useContext)(b),t=e.searchbarText,c=e.oldSearchbarText,n=e.handleChange,a=e.handleClickOnInput,s=Object(u.useState)(!1),i=Object(l.a)(s,2),r=i[0],o=i[1];return Object(T.useScrollPosition)((function(e){e.prevPos;e.currPos.y<-20?o(!0):o(!1)})),Object(N.jsx)("div",{className:"col-lg-6 col-md-8 col-sm-9 col-12 st-search "+(r&&"st-animation"),children:Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-12",children:Object(N.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(N.jsx)("input",{onChange:n,className:"myForm1 "+(r&&"myForm-animation"),type:"text",placeholder:"Search Movie Title...",value:""!==t?t:c,onClick:a})})})})})}var M=function(e){Object(O.a)(c,e);var t=Object(f.a)(c);function c(){return Object(p.a)(this,c),t.apply(this,arguments)}return Object(g.a)(c,[{key:"componentDidMount",value:function(){this.setState({onXReachEnd:function(){return console.log()}})}},{key:"render",value:function(){var e=this.props,t=e.show,c=e.text;return Object(N.jsx)(v.a,{className:t&&c?"MovieSearchScroolbar":"offScroolBar MovieSearchScroolbar",children:this.props.children})}}]),c}(u.Component);function D(){return Object(N.jsxs)(j.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:[Object(N.jsx)(E,{}),Object(N.jsx)(I,{})]})}var _=c.p+"static/media/tmdb.6852b1ef.svg";function B(e){var t=e.show,c=e.setShow,n=e.node,a=e.suggestionsSelected,s=Object(u.useContext)(b),i=s.searchbarText,r=s.setSearchbarText,o=s.oldSearchbarText,l=s.setOldSearchbarText,j=s.cursor,h=s.setCursor,m=s.suggestions,p=s.setSuggestions,g=s.queryData,O=s.setQueryData,f=s.sliceNumber,x=s.setSliceNumber,v=s.handleChange,S=s.handleClickOnInput,y=s.fetchStartPage;w.a.config({up:function(){isNaN(j)?h(f):h(j<0?f:function(e){return e-1})},down:function(){isNaN(j)?h(0):h(j>f?0:function(e){return e+1})}});var I=Object(d.f)(),T=function(e){f>=10?(I.push("/"),x(20)):m.length>0&&x((function(e){return e+5}))};function E(e,t,c){var n=e.split(new RegExp("(".concat(t,")"),"gi"));return Object(N.jsxs)("span",{children:[" ",n.map((function(e,n){return Object(N.jsx)("span",{style:e.toLowerCase()===t.toLowerCase()&&j!==c?{color:"#00FC87",fontWeight:"bold"}:e.toLowerCase()===t.toLowerCase()?{fontWeight:"bold"}:{},children:e},n)}))," "]})}Object(u.useEffect)((function(){if(g.length>0){var e=g.map((function(e){return[e.original_title,e.id,"https://image.tmdb.org/t/p/w500".concat(e.poster_path)]})).slice(0,f);p(e)}}),[f]);var D=function(e){h(parseInt(e.target.getAttribute("index")))};return Object(N.jsx)("div",{className:"searchContainer nopadding",children:Object(N.jsxs)("div",{className:"row searchSecondContainer",children:[Object(N.jsx)("div",{className:"col-xs-12 col-sm-3 col-lg-3 p-0",children:Object(N.jsx)(C.b,{to:"/",children:Object(N.jsx)("img",{src:_,className:"logo",alt:"The Movie Database",onClick:function(){O([]),r(""),y()}})})}),Object(N.jsxs)("div",{className:"col-xs-12 col-sm-9 col-lg-9 p-0 pl-3 searchInside",ref:n,children:[Object(N.jsx)("form",{className:"searchbox",onSubmit:function(e){e.preventDefault()},children:Object(N.jsx)("input",{onChange:v,className:"myform",type:"text",placeholder:"Search Movie Title...",value:""!==i?i:o,onKeyPress:function(e){13===(e.keyCode||e.which)&&(t?j===f?T():(a(m[j]),c(!1),r(o)):(j===f?T():(r(o),l("")),c(!0)))},onClick:S})}),g.length>0?Object(N.jsx)(M,{show:t,text:i,children:Object(N.jsxs)("ul",{className:t&&i?"animate list":"list",children:[m.map((function(e,t){return Object(N.jsx)(C.b,{to:"/movie/".concat(e[1]),className:"linkStyle",children:Object(N.jsx)("li",{className:j===t?"active tt-suggestion":"tt-suggestion",onClick:function(){return a(e)},onMouseEnter:D,index:t,children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("img",{src:"https://image.tmdb.org/t/p/w500null"!==e[2]?e[2]:k,className:"col-lg-2 col-md-3 col-sm-4 col-3 Image"}),Object(N.jsx)("p",{className:"col-lg-10 col-md-9 col-sm-8 col-9 textSugestion sugest",children:E(e[0],i,t)})]})},t)})})),Object(N.jsx)("li",{style:{visibility:g.length>m.length?"visible":"collapse"},children:Object(N.jsx)("p",{onClick:T,index:f,className:j===f?"active textSugestion showMore tt-suggestion":"textSugestion showMore tt-suggestion",children:f>=10?"full screen search":m.length>0?"show more":"no result"})})]})}):i?Object(N.jsx)("ul",{className:"animate list showMore noResult",children:Object(N.jsx)("li",{children:"no result"})}):void 0]})]})})}var P=c(41),R=c.n(P);function q(e){var t=[];return void 0!==e&&e.forEach((function(e){t.push(e.name)})),t.join(", ")}function G(){var e=Object(u.useContext)(b),t=e.movieData,c=(e.backgroundIMG,e.setBackgroundIMG),n=t.original_title,a=t.overview,s=t.tagline,i=t.poster_path,r=t.production_companies,o=t.genres,l=t.backdrop_path,d=t.release_date,h=t.runtime,m=t.revenue,p=t.vote_average,g="https://image.tmdb.org/t/p/w500".concat(i),O=q(r),f=q(o),x="https://image.tmdb.org/t/p/original".concat(l);return"undefined"!==p&&0!==p||(p="-"),m="undefined"===m||0===m?"-":R()(m).format("($0,0)"),Object(u.useEffect)((function(){c(x)})),Object(N.jsx)("div",{className:"MovieCard",children:Object(N.jsx)(j.a,{exitBeforeEnter:!0,children:Object(N.jsxs)(j.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"Card nopadding row",children:[Object(N.jsxs)("div",{className:"meta-data-container col-12 col-md-7 col-lg-8",children:[Object(N.jsx)("h1",{children:n}),Object(N.jsx)("span",{className:"tagline",children:s}),Object(N.jsx)("p",{children:a}),Object(N.jsxs)("div",{className:"additional-details",children:[Object(N.jsx)("span",{className:"genre-list",children:f}),Object(N.jsx)("span",{className:"production-list",children:O}),Object(N.jsxs)("div",{className:"row nopadding release-details",children:[Object(N.jsxs)("div",{className:"col-6",children:[" Original Release: ",Object(N.jsx)("span",{className:"meta-data",children:d})]}),Object(N.jsxs)("div",{className:"col-6",children:[" Running Time: ",Object(N.jsxs)("span",{className:"meta-data",children:[h," min"]})," "]}),Object(N.jsxs)("div",{className:"col-6",children:[" Box Office: ",Object(N.jsx)("span",{className:"meta-data",children:m})]}),Object(N.jsxs)("div",{className:"col-6",children:[" Vote Average: ",Object(N.jsx)("span",{className:"meta-data",children:p})]})]})]})]}),Object(N.jsx)("div",{className:"poster-container nopadding order-md-first col-12 col-md-5 col-lg-4",children:Object(N.jsx)("img",{id:"postertest",className:"poster",src:"null"!==i?g:k})})]},n)})})}function L(){var e=Object(u.useContext)(b),t=e.searchbarText,c=e.setSearchbarText,n=e.setOldSearchbarText,a=e.setSliceNumber,s=e.setMovieID,i=Object(u.useState)(!1),r=Object(l.a)(i,2),o=r[0],d=r[1],h=Object(u.useRef)();Object(u.useEffect)((function(){return document.addEventListener("mousedown",m),function(){document.removeEventListener("mousedown",m)}}),[]);var m=function(e){h.current.contains(e.target)?d(!0):(d(!1),a(5))};return Object(N.jsxs)(j.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:[Object(N.jsx)(B,{show:o,setShow:d,suggestionsSelected:function(e){t&&void 0!==e&&(n(t),c(""),s(e[1]))},node:h}),Object(N.jsx)(G,{})]})}function F(){var e=Object(d.g)(),t=Object(u.useState)("https://image.tmdb.org/t/p/original/rAiYTfKGqDCRIIqo664sY9XZIvQ.jpg"),c=Object(l.a)(t,2),n=c[0],a=c[1],i=Object(u.useState)([]),h=Object(l.a)(i,2),p=h[0],g=h[1],O=Object(u.useState)(""),f=Object(l.a)(O,2),x=f[0],v=f[1],y="https://api.themoviedb.org/3/movie/popular?api_key=cfe422613b250f702980a3bbf9e90716&language=en-US&page=1";function C(){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(r.a.mark((function e(){var t,c,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(y);case 2:t=e.sent,c=t.data.results,n=c.map((function(e){return[e.original_title,e.id,"https://image.tmdb.org/t/p/w500".concat(e.poster_path)]})),g(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(u.useEffect)((function(){""===x&&C()}),[x]);var I=Object(u.useState)(function(){var t=e.pathname;return t.substring(t.lastIndexOf("/")+1)}()),T=Object(l.a)(I,2),E=T[0],M=T[1],_=Object(u.useState)({}),B=Object(l.a)(_,2),P=B[0],R=B[1],q="https://api.themoviedb.org/3/movie/".concat(E,"?&api_key=cfe422613b250f702980a3bbf9e90716");Object(u.useEffect)((function(){function e(){return(e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(q);case 2:t=e.sent,R(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[E]);var G=Object(u.useState)([]),F=Object(l.a)(G,2),A=F[0],W=F[1],Q=Object(u.useState)(5),X=Object(l.a)(Q,2),J=X[0],K=X[1],Y=Object(u.useState)(""),$=Object(l.a)(Y,2),U=$[0],V=$[1],Z=Object(u.useState)(0),z=Object(l.a)(Z,2),H=z[0],ee=z[1],te=function(e){if(0===e.length&&V(""),e.length>=1){var t="https://api.themoviedb.org/3/search/movie?query=%".concat(e,"&api_key=cfe422613b250f702980a3bbf9e90716");m.a.get(t).then((function(t){var c=t.data.results.map((function(e){return[e.original_title,e.id,"https://image.tmdb.org/t/p/w500".concat(e.poster_path)]})).slice(0,J);g(c),W(t.data.results),V(e)}))}},ce=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===x&&(te(U),v(U),V(""));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){console.log("%c queryData.length: ".concat(A.length),"color: pink"),console.log("%c suggestions.length: ".concat(p.length),"color: pink")}),[A]),Object(u.useEffect)((function(){console.log({suggestions:p})}),[p]),Object(u.useEffect)((function(){console.log({movieData:P})}),[P]),Object(u.useEffect)((function(){console.log("searchbarText: "+x)}),[x]),Object(u.useEffect)((function(){console.log("sliceNumber: ".concat(J))}),[J]),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",Object(s.a)(Object(s.a)({id:"app"},w.a.events),{},{tabIndex:"1",children:Object(N.jsx)(b.Provider,{value:{movieID:E,movieData:P,searchbarText:x,setSearchbarText:v,oldSearchbarText:U,setOldSearchbarText:V,cursor:H,setCursor:ee,sliceNumber:J,setSliceNumber:K,suggestions:p,setSuggestions:g,handleChange:function(e){var t=e.target.value.replace(/[^\w\s]/gi,"");v(t),te(t)},handleClickOnInput:ce,queryData:A,setQueryData:W,setMovieID:M,fetchStartPage:C,backgroundIMG:n,setBackgroundIMG:a},children:Object(N.jsx)(j.a,{exitBeforeEnter:!0,children:Object(N.jsx)(S,{children:Object(N.jsxs)(d.c,{location:e,children:[Object(N.jsx)(d.a,{exact:!0,path:"/",render:function(){return Object(N.jsx)(D,{})}}),Object(N.jsx)(d.a,{exact:!0,path:"/movie/:".concat(E),render:function(){return Object(N.jsx)(L,{})}})]},function(){var t=e.pathname;return t=t.substring(0,t.lastIndexOf("/")+1)}())})})})})),Object(N.jsx)("div",{className:"BgGradient"}),Object(N.jsx)(j.a,{children:Object(N.jsx)(j.b.img,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.5},src:n,className:"BgImage"},n)})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(N.jsx)(C.a,{children:Object(N.jsx)(F,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[77,1,2]]]);
//# sourceMappingURL=main.8dfa2832.chunk.js.map