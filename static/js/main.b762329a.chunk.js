(this["webpackJsonpmy-movie-search"]=this["webpackJsonpmy-movie-search"]||[]).push([[0],{115:function(e,t,n){e.exports={PosterCard:"PosterCard_PosterCard__1PO0F"}},117:function(e,t,n){e.exports={PosterLi:"PosterLi_PosterLi__KSaed",active:"PosterLi_active__1lf78"}},129:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},167:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){},271:function(e,t,n){},272:function(e,t,n){},273:function(e,t,n){"use strict";n.r(t);var a=n(113),c=n.n(a),s=n(7),r=n(8),i=n.n(r),o=n(12),l=n(6),u=n(0),b=n(11),j=n(277),d=Object(u.createContext)(null),m=(n(129),n(114)),h=n.n(m),p=n(2),O=Object(u.createContext)();function f(e){var t=Object(u.useContext)(d),n=t.dispPostersNum,a=t.setDispPostersNum,c=Object(u.useRef)(null);return Object(p.jsx)(h.a,{className:"AppScroolbar",onScrollDown:n<20?function(){a(20)}:void 0,ref:c,children:Object(p.jsx)(O.Provider,{value:{scrollBarRef:c},children:e.children})})}var x=n(75),v=n.n(x),g="api_key=cfe422613b250f702980a3bbf9e90716",N="https://api.themoviedb.org",k="".concat("https://image.tmdb.org/t/p/","w500"),w="".concat(N,"/3/movie/popular?").concat(g),y=.7,S=.35,C="/login",P="/register",R="/forgot-password",_="/profile",I="/profile-update",T=function(e){return e.pathname.substring(0,e.pathname.lastIndexOf("/")+1)},L=function(e){if(e.pathname.includes("/movie/"))return e.pathname.substring(e.pathname.lastIndexOf("/")+1)};function M(e){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=6;break}return e.next=3,B(t);case 3:n=e.sent,e.next=12;break;case 6:if("object"!==typeof t){e.next=10;break}n=t,e.next=12;break;case 10:return console.error("Passed ".concat(typeof t," input to getMoviesDataToDisplayInSearch. You must pass string or object")),e.abrupt("return");case 12:return e.abrupt("return",n.map((function(e){return{title:e.original_title,id:e.id,poster:null!==e.poster_path?k+e.poster_path:null}})));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return D.apply(this,arguments)}function D(){return(D=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(t);case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return"".concat(N,"/3/search/movie?query=%").concat(e,"&").concat(g)}function F(e){return q.apply(this,arguments)}function q(){return(q=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(N,"/3/movie/").concat(t,"?&").concat(g));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=n(60),A=n.n(Q),U=(n(153),n(276)),V=n(115),W=n.n(V),z=n(61),K=n.p+"static/media/no_image.2f8a70e1.png";function G(e){var t=e.cardData,n=e.onClick,a=e.className,c=e.cardTransitionDuration,s=e.imgTransition,r=e.imgHeight,i=e.imgWidth;return Object(p.jsx)(j.a,{exitBeforeEnter:!0,children:Object(p.jsx)(U.a.div,{id:W.a.PosterCard,className:a,onClick:function(){return n(t.id)},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:c,ease:"easeInOut"},children:Object(p.jsxs)("div",{children:[Object(p.jsx)(z.a,{width:i,height:r,opacityTransition:s,src:t.poster?t.poster:K,alt:"poster ".concat(t.id)}),Object(p.jsx)("p",{children:t.title})]})},t.id)})}function X(){var e=Object(u.useContext)(d),t=e.searchbarText,n=e.suggestions,a=e.dispPostersNum,c=e.pushToHistory,s=e.setSuggestions,r=Object(u.useContext)(O).scrollBarRef;function i(e){c("/movie/".concat(e)),setTimeout((function(){r.current._ps.element.scrollTop=0,console.log("scrollBarRef",r.current._ps),s([])}),700)}return Object(p.jsx)(U.a.div,{className:"StartPageCards",initial:{opacity:0},animate:{opacity:1,delay:.2},exit:{opacity:0},transition:{duration:y},children:Object(p.jsxs)("div",{className:"Container",children:[Object(p.jsx)(j.a,{exitBeforeEnter:!0,children:Object(p.jsx)(U.a.p,{className:"title",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.35,ease:"easeInOut"},children:!t&&"Trending Now"},t)}),Object(p.jsx)("div",{className:"row",children:n.slice(0,a).map((function(e){return Object(p.jsx)(G,{className:"col-xl-2 col-md-3 col-4",cardData:e,onClick:i,cardTransitionDuration:.35,imgTransition:.5,imgHeight:"750",imgWidth:"500"})}))})]})})}n(154);var Y=n(76),Z=n.n(Y);function J(e){var t=e.fetchImg,n=e.fallbackImg;return Object(u.useEffect)((function(){function e(){document.documentElement.style.setProperty("--vh","".concat(window.innerHeight/100,"px"))}return window.addEventListener("resize",e()),window.addEventListener("orientationchange",e()),function(){document.removeEventListener("resize",e),document.removeEventListener("orientationchange",e)}}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:Z.a.BgGradient}),Object(p.jsx)(j.a,{children:Object(p.jsx)(U.a.img,{className:Z.a.BgImage,src:t||n,initial:{opacity:0},animate:{opacity:1,delay:.2},exit:{opacity:0},transition:{duration:1.5}},t)})]})}var $=n.p+"static/media/BgGreen.a17d9a1b.jpg",ee=Object(u.createContext)();function te(){return Object(u.useContext)(ee)}function ne(e){var t=e.children,n=Object(b.h)(),a=Object(u.useState)((function(){return function(e){var t=L(e);return""===t?"157336":t}(n)})),c=Object(l.a)(a,2),s=c[0],r=c[1],j=Object(u.useState)({}),d=Object(l.a)(j,2),m=d[0],h=d[1],O=Object(u.useState)(),f=Object(l.a)(O,2),x=f[0],v=f[1];return Object(u.useEffect)((function(){n.pathname.includes("/movie/")&&r(L(n))}),[n]),Object(u.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=s,!e.t0){e.next=7;break}return e.t1=h,e.next=5,F(s);case 5:e.t2=e.sent,(0,e.t1)(e.t2);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("movieID: ".concat(s)),function(){e.apply(this,arguments)}()}),[s]),Object(u.useEffect)((function(){v(m.backdrop_path&&"".concat("https://image.tmdb.org/t/p/original").concat(m.backdrop_path))}),[m]),Object(p.jsxs)(ee.Provider,{value:{movieID:s,setMovieID:r,movieData:m},children:[Object(p.jsx)(J,{fetchImg:x,fallbackImg:$}),t]})}function ae(e){var t=[];return void 0!==e&&e.forEach((function(e){t.push(e.name)})),t.join(", ")}function ce(){var e=te().movieData,t=e.original_title,n=e.overview,a=e.tagline,c=e.poster_path,s=e.production_companies,r=e.genres,i=e.release_date,o=e.runtime,l=e.revenue,u=e.vote_average,b=ae(s),d=ae(r);return Object(p.jsx)(U.a.div,{className:"MovieCard",initial:{opacity:0},animate:{opacity:1,delay:.2},exit:{opacity:0},transition:{duration:y},children:Object(p.jsx)(j.a,{exitBeforeEnter:!0,children:Object(p.jsxs)(U.a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:y},className:"Container row",children:[Object(p.jsxs)("div",{className:"metaDataContainer col-12 col-md-7 col-lg-8",children:[Object(p.jsx)("h1",{children:t}),Object(p.jsx)("span",{className:"tagline",children:a}),Object(p.jsx)("p",{children:n}),Object(p.jsxs)("div",{className:"additionalDetails",children:[Object(p.jsx)("span",{className:"genreList",children:d}),Object(p.jsx)("span",{className:"productionList",children:b}),Object(p.jsxs)("div",{className:"row releaseDetails",children:[Object(p.jsxs)("div",{className:"col-6",children:["Original Release:",Object(p.jsx)("span",{className:"metaData",children:i})]}),Object(p.jsxs)("div",{className:"col-6",children:["Running Time:",Object(p.jsxs)("span",{className:"metaData",children:[o," min"]})]}),Object(p.jsxs)("div",{className:"col-6",children:["Box Office:",Object(p.jsx)("span",{className:"metaData",children:l?"".concat(parseInt(l).toLocaleString()," $"):"-"})]}),Object(p.jsxs)("div",{className:"col-6",children:["Vote Average:",Object(p.jsx)("span",{className:"metaData",children:u||"-"})]})]})]})]}),Object(p.jsx)("div",{className:"posterContainer order-md-first col-12 col-md-5 col-lg-4",children:Object(p.jsx)("img",{className:"poster",src:null!==c?k+c:K,alt:"poster"})})]},t)})})}var se=n(37),re=(n(158),n.p+"static/media/menu.de21b81a.svg"),ie=(n(159),n(116)),oe=n.p+"static/media/close.17a94979.svg";function le(){var e=Object(u.useContext)(d),t=e.searchbarText,n=e.pushToHistory,a=e.fetchPopularMoviesOnStartPage,c=e.setAllMoviesData,s=e.setShowQuickSearchRes;return{selectedMovieInQuickSearch:function(e){t&&void 0!==e&&(n("/movie/".concat(e)),s(!1))},gotoStarPage:function(){c([]),a(),n("/")}}}n(162);var ue=n(79),be=n.n(ue);function je(e){var t=e.className,n=e.fadeInConditionsArr,a=e.onClose,c=e.closeBtn,s=Object(u.useState)(!1),r=Object(l.a)(s,2),i=r[0],o=r[1];return Object(u.useEffect)((function(){o(n.every((function(e){return e})))}),[n]),Object(p.jsxs)("div",{className:"".concat(be.a.NoResult," ").concat(t," ")+(i&&"fadeIn"),children:[Object(p.jsx)("p",{children:"no result"}),"btn"===c&&Object(p.jsx)("p",{className:be.a.btn,onClick:function(){return a(!1)},children:"close"}),"img"===c&&Object(p.jsx)("img",{src:oe,onClick:function(){return a(!1)},alt:"close search results"})]})}n(163);function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:800,a=Object(u.useState)([]),c=Object(l.a)(a,2),s=c[0],r=c[1];return Object(u.useEffect)((function(){var a=e.slice(0,t);if(!(e.length>0)){var c=setTimeout((function(){r(a)}),n);return function(){return clearTimeout(c)}}r(a)}),[e,t,n]),s}function me(){var e=Object(u.useContext)(d),t=e.searchbarText,n=e.pushToHistory,a=e.suggestions,c=e.showQuickSearchRes,s=e.setShowQuickSearchRes,r=le().selectedMovieInQuickSearch,i=de(a,3,800);return Object(p.jsxs)("div",{className:"ResultsMobile "+(c&&t&&"fadeIn"),children:[Object(p.jsx)("div",{className:"searchbar_div",children:i.map((function(e){return Object(p.jsx)(G,{className:"col-4",cardData:e,onClick:r,cardTransitionDuration:S,imgTransition:.5,imgHeight:"750",imgWidth:"500"})}))}),Object(p.jsxs)("div",{className:"searchbar_li",children:[Object(p.jsx)("p",{className:"showMoreBtn",onClick:function(){return n("/")},index:3,children:"show more"}),Object(p.jsx)("p",{className:"showMoreClose",onClick:function(){return s(!1)},children:"close"})]})]})}n(164);function he(){var e=Object(u.useContext)(d),t=e.indexOfHighlightedMovie,n=e.setIndexOfHighlightedMovie;return{highligthText:function(e,n,a){var c=e.split(new RegExp("(".concat(n,")"),"gi"));return Object(p.jsxs)("span",{children:[" ",c.map((function(e,c){return Object(p.jsx)("span",{style:e.toLowerCase()===n.toLowerCase()&&t!==a?{color:"#00FC87",fontWeight:"bold"}:e.toLowerCase()===n.toLowerCase()?{fontWeight:"bold"}:{},children:e},c)}))," "]})},highlightMovieTextOnHover:function(e){n(parseInt(e.target.getAttribute("index")))}}}var pe=n(117),Oe=n.n(pe);function fe(e){var t=e.item,n=e.index,a=Object(u.useContext)(d),c=a.searchbarText,s=a.indexOfHighlightedMovie,r=he(),i=r.highligthText,o=r.highlightMovieTextOnHover,l=le().selectedMovieInQuickSearch;return Object(p.jsx)(j.a,{exitBeforeEnter:!0,children:Object(p.jsx)(U.a.li,{className:"".concat(Oe.a.PosterLi," ")+(s===n&&"active"),onClick:function(){return l(t.id)},onMouseEnter:o,index:n,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:S},children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)(z.a,{className:"col-lg-2 col-md-3 col-sm-4 col-3",width:"500",height:"750",opacityTransition:.5,src:t.poster?t.poster:K,alt:"poster ".concat(t.id)}),Object(p.jsx)("p",{className:"col-lg-10 col-md-9 col-sm-8 col-9",children:i(t.title,c,n)})]})},t.id)})}function xe(){var e=Object(u.useContext)(d),t=e.searchbarText,n=e.pushToHistory,a=e.suggestions,c=e.showQuickSearchRes,s=e.setShowQuickSearchRes,r=e.indexOfHighlightedMovie,i=he().highlightMovieTextOnHover,o=de(a,5,800);return Object(p.jsxs)("ul",{className:"ResultsPC "+(c&&t&&"fadeIn"),children:[o.map((function(e,t){return Object(p.jsx)(fe,{item:e,index:t})})),Object(p.jsxs)("li",{className:"showMore",children:[Object(p.jsx)("p",{className:"showMoreParagraph "+(5===r&&"active"),onMouseEnter:i,onClick:function(){return n("/")},children:"show more"}),Object(p.jsx)("img",{className:"closeImg",src:oe,onClick:function(){return s(!1)},alt:"close search results"})]})]})}function ve(e){var t=Object(u.useContext)(d),n=t.suggestions,a=t.showQuickSearchRes;return Object(p.jsx)(j.a,{exitBeforeEnter:!0,children:Object(p.jsx)(U.a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:a?S:0,ease:"easeInOut"},children:e},n.length+a)})}function ge(){var e=Object(u.useContext)(d),t=e.searchbarText,n=e.suggestions,a=e.showQuickSearchRes,c=e.setShowQuickSearchRes,s=function(e,t){var n=Object(u.useState)(!1),a=Object(l.a)(n,2),c=a[0],s=a[1];return Object(u.useEffect)((function(){if(""!==t){var n=setTimeout((function(){s(!0)}),e);return function(){return clearTimeout(n)}}s(!1)}),[t,e]),c}(1e3,t);return Object(p.jsx)("div",{className:"SearchbarResults",children:ve(Object(p.jsx)(p.Fragment,{children:n.length>0&&a?se.isMobile?Object(p.jsx)(me,{}):Object(p.jsx)(xe,{}):Object(p.jsx)(je,{className:se.isMobile?"ResultsMobile":"ResultsPC",fadeInConditionsArr:[a,t,s],onClose:c,closeBtn:se.isMobile?"btn":"img"})}))})}function Ne(){var e=Object(u.useContext)(d),t=e.location,n=e.searchbarText,a=e.setSearchbarText,c=e.onSearchbarTextChanging,s=function(){var e=Object(u.useContext)(d),t=e.suggestions,n=e.pushToHistory,a=e.showQuickSearchRes,c=e.setShowQuickSearchRes,s=e.indexOfHighlightedMovie,r=e.setIndexOfHighlightedMovie,i=le().selectedMovieInQuickSearch;return A.a.config({up:function(){isNaN(s)?r(5):r(s<0?5:function(e){return e-1})},down:function(){isNaN(s)?r(0):r(s>5?0:function(e){return e+1})}}),function(e){13===(e.keyCode||e.which)&&(a||c(!0),a&&(5===s?n("/"):i(t[s].id)))}}(),r=function(){var e=Object(u.useContext)(d),t=e.searchbarText,n=e.showResInSearchBar,a=e.setShowQuickSearchRes,c=Object(u.useRef)();function s(e){c.current.contains(e.target)||a(!1)}return Object(u.useEffect)((function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}}),[]),{node:c,OnSearchBarClicked:function(){var e=Object(o.a)(i.a.mark((function e(c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(!0),n(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}(),l=r.node,b=r.OnSearchBarClicked;return Object(p.jsxs)("div",{className:"NavSearchbar",ref:l,children:[Object(p.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(p.jsx)(ie.DebounceInput,{debounceTimeout:250,onChange:c,type:"text",placeholder:"Search Movie",value:n,onClick:b,onKeyPress:s}),Object(p.jsx)("img",{src:oe,onClick:function(){return a("")},alt:"close search"})]}),t.pathname.includes("movie")&&Object(p.jsx)(ge,{})]})}var ke=n(48);n(274),n(165);ke.a.initializeApp({apiKey:"AIzaSyCBp_Ua_liik7BKHbHYXFUMNviV5EPm6ZE",authDomain:"myneonmovies.firebaseapp.com",projectId:"myneonmovies",storageBucket:"myneonmovies.appspot.com",messagingSenderId:"734826471130",appId:"1:734826471130:web:7038269ba471c9da04cfe3",measurementId:"G-CCKW3RQ7XE"}),ke.a.auth();var we=ke.a.firestore().collection("users"),ye=(ke.a.firestore.FieldValue.serverTimestamp,ke.a),Se=Object(u.createContext)();function Ce(){return Object(u.useContext)(Se)}function Pe(e){var t=e.children,n=Object(u.useState)(),a=Object(l.a)(n,2),c=a[0],s=a[1],r=Object(u.useState)({}),b=Object(l.a)(r,2),j=b[0],d=b[1],m=Object(u.useState)(!0),h=Object(l.a)(m,2),O=h[0],f=h[1];function x(){return ye.auth().signOut()}function v(){return(v=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return Object(u.useEffect)((function(){return ye.auth().onAuthStateChanged((function(e){console.log("user:",e),s(e),f(!1)}))}),[]),Object(p.jsx)(Se.Provider,{value:{user:c,userData:j,setUserData:d,register:function(e,t){return ye.auth().createUserWithEmailAndPassword(e,t)},login:function(e,t){return ye.auth().signInWithEmailAndPassword(e,t)},logout:x,handleLogout:function(){return v.apply(this,arguments)},resetPassword:function(e){return ye.auth().sendPasswordResetEmail(e)},updateEmail:function(e){return c.updateEmail(e)},updatePassword:function(e){return c.updatePassword(e)}},children:!O&&t})}function Re(e){var t=e.openSidebar,n=e.gotoHome,a=e.gotoRegister,c=e.gotoLogin,s=e.gotoUserPanel,r=Ce(),i=r.user,o=r.handleLogout;return Object(p.jsx)("nav",{className:"TopBar",children:Object(p.jsxs)("div",{className:"TopBarContainer",children:[Object(p.jsx)(Ne,{}),Object(p.jsx)("div",{className:"hamburgerIconContainer",children:Object(p.jsx)("img",{className:"hamburgerIcon",src:re,alt:"menuIcon",onClick:function(){return t()}})}),Object(p.jsxs)("ul",{className:"NavMenu",children:[Object(p.jsx)("li",{className:"NavItem",children:Object(p.jsx)("div",{className:"NavLink",onClick:function(){return n()},children:"Home"})}),Object(p.jsx)("li",{className:"NavItem",children:!i&&Object(p.jsx)("div",{className:"NavLink",onClick:function(){return a()},children:"Register"})}),Object(p.jsx)("li",{className:"NavItem",children:i&&Object(p.jsx)("div",{className:"NavLink",onClick:function(){return s()},children:"Profile"})})]}),Object(p.jsxs)("div",{className:"NavBtn",children:[!i&&Object(p.jsx)("div",{className:"NavBtnLink",onClick:function(){return c()},children:"login"}),i&&Object(p.jsx)("div",{className:"NavBtnLink",onClick:function(){return o()},children:"Logout"})]})]})})}n(167);function _e(e){var t=e.isOpen,n=e.close,a=e.gotoHome,c=e.gotoRegister,s=e.gotoLogin,r=e.gotoUserPanel,i=Ce(),o=i.user,l=i.handleLogout;return Object(p.jsxs)("nav",{className:"Sidebar "+(t&&"openSidebar"),children:[Object(p.jsx)("div",{className:"closeIconContainer",children:Object(p.jsx)("img",{src:oe,className:"closeIcon",alt:"The Movie Database Logo",onClick:function(){return n()}})}),Object(p.jsxs)("div",{className:"sidebarWrapper",children:[Object(p.jsxs)("ul",{className:"sidebarMenu",children:[Object(p.jsx)("div",{className:"sidebarLink",onClick:function(){return a()},children:"Home"}),!o&&Object(p.jsx)("div",{className:"sidebarLink",onClick:function(){return c()},children:"Register"}),o&&Object(p.jsx)("div",{className:"sidebarLink",onClick:function(){return r()},children:"Profile"})]}),Object(p.jsxs)("div",{className:"sidebarBtnWrap",children:[!o&&Object(p.jsx)("div",{className:"sidebarBtnLink",onClick:function(){return s()},children:"Login"}),o&&Object(p.jsx)("div",{className:"sidebarBtnLink",onClick:function(){return l()},children:"Logout"})]})]})]})}var Ie=n(25);function Te(){var e=Object(u.useContext)(d),t=e.pushToHistory,n=e.fetchPopularMoviesOnStartPage,a=e.setAllMoviesData,c=Object(u.useState)(!1),s=Object(l.a)(c,2),r=s[0],i=s[1],o=function(){a([]),n(),t("/"),i(!1)},b=function(){t(P),i(!1)},j=function(){t(C),i(!1)},m=function(){t(_),i(!1)};return Object(p.jsxs)(Ie.a,{children:[Object(p.jsx)(_e,{isOpen:r,close:function(){return i(!1)},gotoHome:o,gotoRegister:b,gotoLogin:j,gotoUserPanel:m}),Object(p.jsx)(Re,{openSidebar:function(){return i(!0)},gotoHome:o,gotoRegister:b,gotoLogin:j,gotoUserPanel:m})]})}var Le=n(9),Me=n(16),Ee=n(19);n(266);function Be(e){var t=e.children;return Object(p.jsx)("div",{className:"error",children:t})}function De(e){var t=e.label,n=e.name,a=e.type,c=Object(Ee.a)(e,["label","name","type"]);return Object(p.jsxs)("div",{className:"formControl",children:[Object(p.jsx)("label",{htmlFor:n,children:t}),Object(p.jsx)(Le.b,Object(s.a)({id:n,name:n,type:a},c)),Object(p.jsx)(Le.a,{name:n,component:Be})]})}function He(e){var t=e.label,n=e.name,a=e.options,c=Object(Ee.a)(e,["label","name","options"]);return Object(p.jsxs)("div",{className:"formControl",children:[Object(p.jsx)("label",{htmlFor:n,children:t}),Object(p.jsx)(Le.b,Object(s.a)(Object(s.a)({as:"select",id:n,name:n},c),{},{children:a.map((function(e){return Object(p.jsx)("option",{value:e.value,children:e.key},e.value)}))})),Object(p.jsx)(Le.a,{name:n,component:Be})]})}function Fe(e){var t=e.label,n=e.name,a=Object(Ee.a)(e,["label","name"]);return Object(p.jsxs)("div",{className:"formControl",children:[Object(p.jsx)("label",{htmlFor:n,children:t}),Object(p.jsx)(Le.b,Object(s.a)({as:"textarea",id:n,name:n},a)),Object(p.jsx)(Le.a,{name:n,component:Be})]})}function qe(e){var t=e.label,n=e.name,a=e.options,c=Object(Ee.a)(e,["label","name","options"]);return Object(p.jsxs)("div",{className:"formControl",children:[Object(p.jsx)("label",{htmlFor:n,children:t}),Object(p.jsx)(Le.b,Object(s.a)(Object(s.a)({name:n},c),{},{children:function(e){var t=e.field;return a.map((function(e){return Object(p.jsxs)("div",{className:"RadioBtnDiv",children:[Object(p.jsx)("label",{className:"RadioBtnLabel",htmlFor:e.value,children:e.key}),Object(p.jsx)("input",Object(s.a)(Object(s.a)({type:"radio",id:e.value},t),{},{value:e.value,checked:t.value===e.value}))]},e.key)}))}})),Object(p.jsx)(Le.a,{name:n,component:Be})]})}function Qe(e){var t=e.label,n=e.name,a=e.options,c=Object(Ee.a)(e,["label","name","options"]);return Object(p.jsxs)("div",{className:"formControl",children:[Object(p.jsx)("label",{htmlFor:n,children:t}),Object(p.jsx)(Le.b,Object(s.a)(Object(s.a)({name:n},c),{},{children:function(e){var t=e.field;return a.map((function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("input",Object(s.a)(Object(s.a)({type:"checkbox",id:e.value},t),{},{value:e.value,checked:t.value&&t.value.includes(e.value)})),Object(p.jsx)("label",{htmlFor:e.value,children:e.key})]},e.key)}))}})),Object(p.jsx)(Le.a,{name:n,component:Be})]})}function Ae(e){var t=e.control,n=Object(Ee.a)(e,["control"]);switch(t){case"input":return Object(p.jsx)(De,Object(s.a)({},n));case"textarea":return Object(p.jsx)(Fe,Object(s.a)({},n));case"select":return Object(p.jsx)(He,Object(s.a)({},n));case"radio":return Object(p.jsx)(qe,Object(s.a)({},n));case"checkbox":return Object(p.jsx)(Qe,Object(s.a)({},n));default:return null}}n(267);function Ue(e){var t=e.submitStatus,n=e.message;return Object(p.jsxs)("div",{className:"OnSubmitMsg",children:["success"===t&&Object(p.jsx)("p",{className:"submitSuccess",children:n}),"error"===t&&Object(p.jsx)("p",{className:"submitError",children:n})]})}n(268);function Ve(){var e=Object(b.g)(),t=Ce().register,n=Object(u.useState)(),a=Object(l.a)(n,2),c=a[0],r=a[1],j=Me.a({email:Me.b().email("Invalid email format").required("Required"),username:Me.b().required("Required"),password:Me.b().required("Required").min(6)}),d=function(){var n=Object(o.a)(i.a.mark((function n(a,c){var s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({}),console.log("Form values:",a),n.prev=2,n.next=5,t(a.email,a.password);case 5:return s=n.sent,n.prev=6,n.next=9,we.doc(s.user.uid).set({username:a.username});case 9:e.push(_),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(6),r({submitStatus:"error",message:n.t0.message});case 15:n.next=20;break;case 17:n.prev=17,n.t1=n.catch(2),r({submitStatus:"error",message:n.t1.message});case 20:c.setSubmitting(!1);case 21:case"end":return n.stop()}}),n,null,[[2,17],[6,12]])})));return function(e,t){return n.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"Register",children:[Object(p.jsx)("h2",{children:"Register"}),Object(p.jsx)(Le.d,{initialValues:{email:"",username:"",password:""},validationSchema:j,onSubmit:d,enableReinitialize:!0,children:function(e){return Object(p.jsx)("div",{className:"FormContainer",children:Object(p.jsxs)(Le.c,{className:"form",children:[Object(p.jsx)(Ae,{control:"input",type:"email",name:"email",label:"email"}),Object(p.jsx)(Ae,{control:"input",type:"text",name:"username",label:"username"}),Object(p.jsx)(Ae,{control:"input",type:"password",name:"password",label:"password"}),Object(p.jsx)("button",{className:"btn btn-success btn-green",type:"submit",disabled:!e.isValid||e.isSubmitting,children:"Register"}),Object(p.jsx)(Ue,Object(s.a)({},c))]})})}}),Object(p.jsx)("div",{className:"border-top pt-3",children:Object(p.jsx)("button",{className:"btn btn-dark w-100",onClick:function(){return e.push(C)},children:"Have an account? Login"})})]})}n(269);function We(){var e=Object(b.g)(),t=Ce().login,n=Object(u.useState)(),a=Object(l.a)(n,2),c=a[0],r=a[1],j=Me.a({email:Me.b().email("Invalid email format").required("Required"),password:Me.b().required("Required").min(6)}),d=function(){var n=Object(o.a)(i.a.mark((function n(a,c){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({}),console.log("Form values:",a),n.prev=2,n.next=5,t(a.email,a.password);case 5:n.sent,e.push(_),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),r({submitStatus:"error",message:n.t0.message});case 12:c.setSubmitting(!1);case 13:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e,t){return n.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"Login",children:[Object(p.jsx)("h2",{children:"Login"}),Object(p.jsx)(Le.d,{initialValues:{email:"",password:""},validationSchema:j,onSubmit:d,enableReinitialize:!0,children:function(e){return Object(p.jsx)("div",{className:"FormContainer",children:Object(p.jsxs)(Le.c,{className:"form",children:[Object(p.jsx)(Ae,{control:"input",type:"email",name:"email",label:"email"}),Object(p.jsx)(Ae,{control:"input",type:"password",name:"password",label:"password"}),Object(p.jsx)("button",{className:"btn btn-success btn-green",type:"submit",disabled:!e.isValid||e.isSubmitting,children:"Log In"}),Object(p.jsx)(Ue,Object(s.a)({},c))]})})}}),Object(p.jsx)("button",{className:"btn btn-link forgot w-100 mb-1",onClick:function(){return e.push(R)},children:"Forgot password?"}),Object(p.jsx)("div",{className:"border-top pt-3",children:Object(p.jsx)("button",{className:"btn btn-dark w-100",onClick:function(){return e.push(P)},children:"Need an account? Register"})})]})}var ze=n(38),Ke=n.n(ze);function Ge(){var e=Object(b.g)(),t=Ce(),n=t.user,a=t.handleLogout,c=t.userData,s=t.setUserData,r=Object(u.useState)(!0),i=Object(l.a)(r,2),o=i[0],j=i[1];return Object(u.useEffect)((function(){c.username&&j(!1),we.doc(n.uid).get().then((function(e){console.log(e.data()),s(e.data()),j(!1)})).catch((function(e){console.log(e)}))}),[]),Object(p.jsx)("div",{className:Ke.a.Profile,children:!o&&Object(p.jsx)("div",{className:Ke.a.container,children:Object(p.jsxs)("div",{className:Ke.a.profileCard,children:[Object(p.jsx)("h2",{children:"Profile"}),Object(p.jsxs)("div",{className:Ke.a.userData,children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Email:"})," ",n.email]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("strong",{children:"Username:"})," ",c.username]})]}),Object(p.jsxs)("div",{className:Ke.a.buttons,children:[Object(p.jsx)("button",{className:"".concat(Ke.a.button," btn btn-success"),onClick:function(){return e.push(I)},children:"Update Profile"}),Object(p.jsx)("button",{className:"".concat(Ke.a.button," btn btn-dark"),onClick:function(){return a()},children:"Log out"})]})]})})})}n(270);function Xe(){var e=Object(b.g)(),t=Ce().resetPassword,n=Object(u.useState)(),a=Object(l.a)(n,2),c=a[0],r=a[1],j=Me.a({email:Me.b().email("Invalid email format").required("Required")}),d=function(){var e=Object(o.a)(i.a.mark((function e(n,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({}),console.log("Form values:",n),e.prev=2,e.next=5,t(n.email);case 5:r({submitStatus:"success",message:"Instructon for reseting your password were send to your email"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),r({submitStatus:"error",message:e.t0.message});case 11:a.setSubmitting(!1);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"ForgotPassword",children:[Object(p.jsx)("h2",{children:"Password Reset"}),Object(p.jsx)(Le.d,{initialValues:{email:""},validationSchema:j,onSubmit:d,enableReinitialize:!0,children:function(e){return Object(p.jsx)("div",{className:"FormContainer",children:Object(p.jsxs)(Le.c,{className:"form",children:[Object(p.jsx)(Ae,{control:"input",type:"email",name:"email",label:"email"}),Object(p.jsx)("button",{className:"btn btn-success btn-green",type:"submit",disabled:!e.isValid||e.isSubmitting,children:"Reset Password"}),Object(p.jsx)(Ue,Object(s.a)({},c))]})})}}),Object(p.jsx)("button",{className:"btn btn-link forgot w-100 mb-1",onClick:function(){return e.push(C)},children:"Login?"}),Object(p.jsx)("div",{className:"border-top pt-3",children:Object(p.jsx)("button",{className:"btn btn-dark w-100",onClick:function(){return e.push(P)},children:"Need an account? Register"})})]})}n(271);function Ye(){var e=Object(b.g)(),t=Ce(),n=t.user,a=t.updatePassword,c=t.updateEmail,r=Object(u.useState)(),j=Object(l.a)(r,2),d=j[0],m=j[1],h=Object(u.useState)(),O=Object(l.a)(h,2),f=O[0],x=O[1],v={email:n.email,username:n.username,password:""},g=Me.a({email:Me.b().email("Invalid email format").required("Required"),username:Me.b().required("Required"),password:Me.b().min(6)}),N=function(){var t=Object(o.a)(i.a.mark((function t(s,r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m({}),x({}),console.log("Form values:",s),s.email===n.email){t.next=13;break}return t.prev=4,t.next=7,c(s.email);case 7:e.push(_),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),m({submitStatus:"error",message:"Failed to update email. Email is probably used by another user."});case 13:if(!s.password){t.next=23;break}return t.prev=14,t.next=17,a(s.password);case 17:e.push(_),t.next=23;break;case 20:t.prev=20,t.t1=t.catch(14),x({submitStatus:"error",message:"Failed to update password."});case 23:r.setSubmitting(!1);case 24:case"end":return t.stop()}}),t,null,[[4,10],[14,20]])})));return function(e,n){return t.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"UpdateProfile",children:[Object(p.jsx)("h2",{children:"Update Profile"}),Object(p.jsx)(Le.d,{initialValues:v,validationSchema:g,onSubmit:N,enableReinitialize:!0,children:function(e){return Object(p.jsx)("div",{className:"FormContainer",children:Object(p.jsxs)(Le.c,{className:"form",children:[Object(p.jsx)(Ae,{control:"input",type:"email",name:"email",label:"email"}),Object(p.jsx)(Ae,{control:"input",type:"text",name:"username",label:"username"}),Object(p.jsx)(Ae,{control:"input",type:"password",name:"password",label:"password",placeholder:"Leave blank to keep the same"}),Object(p.jsx)("button",{className:"btn btn-success btn-green",type:"submit",disabled:!e.isValid||e.isSubmitting,children:"Update"}),Object(p.jsx)(Ue,Object(s.a)({},d)),Object(p.jsx)(Ue,Object(s.a)({},f))]})})}}),Object(p.jsx)("div",{className:"border-top pt-3",children:Object(p.jsx)("button",{className:"btn btn-dark w-100",onClick:function(){return e.push(_)},children:"Cancel"})})]})}function Ze(e){var t=e.component,n=Object(Ee.a)(e,["component"]),a=Ce().user;return Object(p.jsx)(b.b,Object(s.a)(Object(s.a)({},n),{},{render:function(e){return a?Object(p.jsx)(t,Object(s.a)({},e)):Object(p.jsx)(b.a,{to:"/login"})}}))}function Je(){var e=te().movieID,t=Object(b.h)(),n=Object(b.g)(),a=Object(u.useState)([]),c=Object(l.a)(a,2),r=c[0],m=c[1],h=Object(u.useState)(""),O=Object(l.a)(h,2),x=O[0],v=O[1];function g(){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m,e.next=3,M(w);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(u.useEffect)((function(){"/"!==t.pathname||x?""===x&&"/"!==t.pathname&&setTimeout((function(){m([])}),600):g()}),[x,t.pathname]);var k=Object(u.useState)([]),y=Object(l.a)(k,2),S=y[0],L=y[1],E=Object(u.useState)(se.isMobile?9:12),D=Object(l.a)(E,2),F=D[0],q=D[1],Q=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q(se.isMobile?6:12),!(t.length>=1)){e.next=10;break}return e.next=4,B(H(t));case 4:return n=e.sent,e.next=7,M(n);case 7:a=e.sent,L(n),m(a);case 10:se.isMobile&&setTimeout((function(){q(9)}),1e3);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=Object(u.useState)(!1),V=Object(l.a)(U,2),W=V[0],z=V[1],K=Object(u.useState)(),G=Object(l.a)(K,2),Y=G[0],Z=G[1];return Object(u.useEffect)((function(){console.log({suggestions:r})}),[r]),Object(p.jsx)("div",{children:Object(p.jsx)("div",Object(s.a)(Object(s.a)({id:"app"},A.a.events),{},{tabIndex:"1",children:Object(p.jsx)(d.Provider,{value:{searchbarText:x,setSearchbarText:v,suggestions:r,setSuggestions:m,onSearchbarTextChanging:function(e){var t=e.target.value.replace(/[^\w\s]/gi,"");v(t),Q(t)},allMoviesData:S,setAllMoviesData:L,fetchPopularMoviesOnStartPage:g,showResInSearchBar:Q,history:n,location:t,pushToHistory:function(e){return n.push(e)},dispPostersNum:F,setDispPostersNum:q,showQuickSearchRes:W,setShowQuickSearchRes:z,indexOfHighlightedMovie:Y,setIndexOfHighlightedMovie:Z},children:Object(p.jsxs)(Pe,{children:[Object(p.jsx)(Te,{}),Object(p.jsx)(f,{children:Object(p.jsx)(j.a,{exitBeforeEnter:!0,children:Object(p.jsxs)(b.d,{location:t,children:[Object(p.jsx)(b.b,{exact:!0,path:"/",render:function(){return Object(p.jsx)(X,{})}}),Object(p.jsx)(b.b,{exact:!0,path:"".concat("/movie/",":").concat(e),render:function(){return Object(p.jsx)(ce,{})}}),Object(p.jsx)(b.b,{exact:!0,path:P,render:function(){return Object(p.jsx)(Ve,{})}}),Object(p.jsx)(b.b,{exact:!0,path:C,render:function(){return Object(p.jsx)(We,{})}}),Object(p.jsx)(b.b,{exact:!0,path:R,render:function(){return Object(p.jsx)(Xe,{})}}),Object(p.jsx)(Ze,{exact:!0,path:_,component:Ge}),Object(p.jsx)(Ze,{exact:!0,path:I,component:Ye})]},T(t))})})]})})}))})}n(272);c.a.render(Object(p.jsx)(Ie.a,{basename:"/movie-search-app",children:Object(p.jsx)(ne,{children:Object(p.jsx)(Je,{})})}),document.getElementById("root"))},38:function(e,t,n){e.exports={Profile:"Profile_Profile__TZNBi",container:"Profile_container__1K79n",profileCard:"Profile_profileCard__2rXbq",userData:"Profile_userData__PXnlA",buttons:"Profile_buttons__29010",button:"Profile_button__58ype"}},76:function(e,t,n){e.exports={BgGradient:"AppBackground_BgGradient__2nQio",BgImage:"AppBackground_BgImage__1dsZq"}},79:function(e,t,n){e.exports={NoResult:"NoResult_NoResult__YeTfc",btn:"NoResult_btn__1abjx",active:"NoResult_active__2Y-CD"}}},[[273,1,2]]]);
//# sourceMappingURL=main.b762329a.chunk.js.map