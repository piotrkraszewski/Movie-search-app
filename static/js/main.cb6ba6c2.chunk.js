(this["webpackJsonpmy-movie-search"]=this["webpackJsonpmy-movie-search"]||[]).push([[0],{15:function(e,t,c){},24:function(e,t,c){},73:function(e,t,c){"use strict";c.r(t);var n=c(34),a=c.n(n),s=c(23),r=c(4),o=c.n(r),i=c(11),l=c(5),u=c(0),j=(c(15),c(2)),d=c(10),b=Object(u.createContext)(null),h=c(16),m=c.n(h),p=c(35),x=(c(24),c(1));function O(e){return p.isMobile?Object(x.jsx)("div",{className:"overflow-y-auto",children:e.children}):Object(x.jsx)(m.a,{className:"AppScroolbar",children:e.children})}var f=c(20),g=c.n(f),v="api_key=cfe422613b250f702980a3bbf9e90716",N="https://api.themoviedb.org",S="https://image.tmdb.org/t/p/",w="".concat(S,"w500"),y="".concat(w,"null"),k="".concat(N,"/3/movie/popular?").concat(v);function C(e){return I.apply(this,arguments)}function I(){return(I=Object(i.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=6;break}return e.next=3,T(t);case 3:c=e.sent,e.next=12;break;case 6:if("object"!==typeof t){e.next=10;break}c=t,e.next=12;break;case 10:return console.error("Passed ".concat(typeof t," input to getMoviesDataToDisplayInSearch. You must pass string or object")),e.abrupt("return");case 12:return e.abrupt("return",c.map((function(e){return[e.original_title,e.id,w+e.poster_path]})));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return M.apply(this,arguments)}function M(){return(M=Object(i.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(t);case 2:return c=e.sent,console.log(typeof c),e.abrupt("return",c.data.results);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return D.apply(this,arguments)}function D(){return(D=Object(i.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(N,"/3/movie/").concat(t,"?&").concat(v));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=c(17),B=c.n(P),_=c(12),G=c.p+"static/media/no_image.2f8a70e1.png";function L(){var e=Object(u.useContext)(b),t=e.searchbarText,c=e.suggestions,n=e.setSliceNumber,a=e.setMovieID;return Object(x.jsx)("div",{className:"StartPageCardTransition",children:Object(x.jsxs)("div",{className:"StartPageCard",children:[Object(x.jsx)("p",{className:"Popular",children:""===t||null===t?"Trending Now":""}),Object(x.jsx)("div",{className:"row",children:c.map((function(e,t){return Object(x.jsx)("div",{className:"cardContainer col-xl-2 col-md-3 col-4",children:Object(x.jsx)(_.b,{to:"/movie/".concat(e[1]),className:"linkStyle",children:Object(x.jsxs)("div",{className:"cardFS",onClick:function(){return a(e[1]),void n(5)},children:[Object(x.jsx)("img",{className:"posterImage",src:e[2]!==y?e[2]:G,alt:"movie poster"}),Object(x.jsx)("h1",{className:"FS-title",children:e[0]})]})})},t)}))})]})})}var R=c(37);function q(){var e=Object(u.useContext)(b),t=e.searchbarText,c=e.oldSearchbarText,n=e.handleChange,a=e.handleClickOnInput,s=Object(u.useState)(!1),r=Object(l.a)(s,2),o=r[0],i=r[1];return Object(R.useScrollPosition)((function(e){e.prevPos;e.currPos.y<-20?i(!0):i(!1)})),Object(x.jsx)("div",{className:"col-lg-6 col-md-8 col-sm-9 col-12 st-search "+(o&&"st-animation"),children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(x.jsx)("input",{onChange:n,className:"myForm1 "+(o&&"myForm-animation"),type:"text",placeholder:"Search Movie Title...",value:""!==t?t:c,onClick:a})})})})})}function A(){return Object(x.jsxs)(d.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:[Object(x.jsx)(q,{}),Object(x.jsx)(L,{})]})}var F=c.p+"static/media/tmdb.6852b1ef.svg";function W(e){var t=e.show,c=e.text;return Object(x.jsx)(m.a,{className:t&&c?"MovieSearchScroolbar":"offScroolBar MovieSearchScroolbar",children:e.children})}function Q(e){var t=Object(u.useState)(0),c=Object(l.a)(t,2),n=c[0],a=c[1],s=e.show,r=e.setShow,o=e.node,i=e.suggestionsSelected,d=Object(u.useContext)(b),h=d.searchbarText,m=d.setSearchbarText,p=d.oldSearchbarText,O=d.setOldSearchbarText,f=d.suggestions,g=(d.setSuggestions,d.queryData),v=d.setQueryData,N=d.sliceNumber,S=d.handleChange,w=d.handleClickOnInput,k=d.fetchPopularMoviesOnStartPage;B.a.config({up:function(){isNaN(n)?a(N):a(n<0?N:function(e){return e-1})},down:function(){isNaN(n)?a(0):a(n>N?0:function(e){return e+1})}});var C=Object(j.f)(),I=function(e){C.push("/")};function T(e,t,c){var a=e.split(new RegExp("(".concat(t,")"),"gi"));return Object(x.jsxs)("span",{children:[" ",a.map((function(e,a){return Object(x.jsx)("span",{style:e.toLowerCase()===t.toLowerCase()&&n!==c?{color:"#00FC87",fontWeight:"bold"}:e.toLowerCase()===t.toLowerCase()?{fontWeight:"bold"}:{},children:e},a)}))," "]})}var M=function(e){a(parseInt(e.target.getAttribute("index")))};return Object(x.jsx)("div",{className:"searchContainer nopadding",children:Object(x.jsxs)("div",{className:"row searchSecondContainer",children:[Object(x.jsx)("div",{className:"col-xs-12 col-sm-3 col-lg-3 p-0",children:Object(x.jsx)(_.b,{to:"/",children:Object(x.jsx)("img",{src:F,className:"logo",alt:"The Movie Database",onClick:function(){v([]),m(""),k()}})})}),Object(x.jsxs)("div",{className:"col-xs-12 col-sm-9 col-lg-9 p-0 pl-3 searchInside",ref:o,children:[Object(x.jsx)("form",{className:"searchbox",onSubmit:function(e){e.preventDefault()},children:Object(x.jsx)("input",{onChange:S,className:"myform",type:"text",placeholder:"Search Movie Title...",value:""!==h?h:p,onKeyPress:function(e){13===(e.keyCode||e.which)&&(s?n===N?I():(i(f[n]),r(!1),m(p)):(n===N?I():(m(p),O("")),r(!0)))},onClick:w})}),g.length>0?Object(x.jsx)(W,{show:s,text:h,children:Object(x.jsxs)("ul",{className:s&&h?"animate list":"list",children:[f.map((function(e,t){return Object(x.jsx)(_.b,{to:"/movie/".concat(e[1]),className:"linkStyle",children:Object(x.jsx)("li",{className:n===t?"active tt-suggestion":"tt-suggestion",onClick:function(){return i(e)},onMouseEnter:M,index:t,children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("img",{src:e[2]!==y?e[2]:G,className:"col-lg-2 col-md-3 col-sm-4 col-3 Image",alt:"movie poster"}),Object(x.jsx)("p",{className:"col-lg-10 col-md-9 col-sm-8 col-9 textSugestion sugest",children:T(e[0],h,t)})]})},t)})})),Object(x.jsx)("li",{style:{visibility:g.length>f.length?"visible":"collapse"},children:Object(x.jsx)("p",{onClick:I,index:N,className:n===N?"active textSugestion showMore tt-suggestion":"textSugestion showMore tt-suggestion",children:"show more"})})]})}):h?Object(x.jsx)("ul",{className:"animate list showMore noResult",children:Object(x.jsx)("li",{children:"no result"})}):void 0]})]})})}function Y(e){var t=[];return void 0!==e&&e.forEach((function(e){t.push(e.name)})),t.join(", ")}function J(){var e=Object(u.useContext)(b),t=e.movieData,c=e.setBackgroundIMG,n=t.original_title,a=t.overview,s=t.tagline,r=t.poster_path,o=t.production_companies,i=t.genres,l=t.backdrop_path,j=t.release_date,h=t.runtime,m=t.revenue,p=t.vote_average,O=w+r,f=Y(o),g=Y(i),v="https://image.tmdb.org/t/p/original".concat(l);return"undefined"!==p&&0!==p||(p="-"),m="undefined"===m||0===m?"-":parseInt(m).toLocaleString()+" $",Object(u.useEffect)((function(){c(v)})),Object(x.jsx)("div",{className:"MovieCard",children:Object(x.jsx)(d.a,{exitBeforeEnter:!0,children:Object(x.jsxs)(d.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"Card nopadding row",children:[Object(x.jsxs)("div",{className:"meta-data-container col-12 col-md-7 col-lg-8",children:[Object(x.jsx)("h1",{children:n}),Object(x.jsx)("span",{className:"tagline",children:s}),Object(x.jsx)("p",{children:a}),Object(x.jsxs)("div",{className:"additional-details",children:[Object(x.jsx)("span",{className:"genre-list",children:g}),Object(x.jsx)("span",{className:"production-list",children:f}),Object(x.jsxs)("div",{className:"row nopadding release-details",children:[Object(x.jsxs)("div",{className:"col-6",children:[" Original Release: ",Object(x.jsx)("span",{className:"meta-data",children:j})]}),Object(x.jsxs)("div",{className:"col-6",children:[" Running Time: ",Object(x.jsxs)("span",{className:"meta-data",children:[h," min"]})," "]}),Object(x.jsxs)("div",{className:"col-6",children:[" Box Office: ",Object(x.jsx)("span",{className:"meta-data",children:m})]}),Object(x.jsxs)("div",{className:"col-6",children:[" Vote Average: ",Object(x.jsx)("span",{className:"meta-data",children:p})]})]})]})]}),Object(x.jsx)("div",{className:"poster-container nopadding order-md-first col-12 col-md-5 col-lg-4",children:Object(x.jsx)("img",{className:"poster",src:null!==r?O:G,alt:"poster"})})]},n)})})}function K(){var e=Object(u.useContext)(b),t=e.searchbarText,c=e.setSearchbarText,n=e.setOldSearchbarText,a=e.setSliceNumber,s=e.setMovieID,r=Object(u.useState)(!1),o=Object(l.a)(r,2),i=o[0],j=o[1],h=Object(u.useRef)();Object(u.useEffect)((function(){return document.addEventListener("mousedown",m),function(){document.removeEventListener("mousedown",m)}}),[]);var m=function(e){h.current.contains(e.target)?j(!0):(j(!1),a(5))};return Object(x.jsxs)(d.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:[Object(x.jsx)(Q,{show:i,setShow:j,suggestionsSelected:function(e){t&&void 0!==e&&(n(t),c(""),s(e[1]))},node:h}),Object(x.jsx)(J,{})]})}var $=c.p+"static/media/BgGreen2.a17d9a1b.jpg";function U(){var e=Object(j.g)(),t=e.pathname,c=Object(u.useState)("https://image.tmdb.org/t/p/original/rAiYTfKGqDCRIIqo664sY9XZIvQ.jpg"),n=Object(l.a)(c,2),a=n[0],r=n[1],h=Object(u.useState)([]),m=Object(l.a)(h,2),p=m[0],f=m[1],g=Object(u.useState)(""),w=Object(l.a)(g,2),y=w[0],I=w[1];function M(){return D.apply(this,arguments)}function D(){return(D=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=f,e.next=3,C(k);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(u.useEffect)((function(){""===y&&M()}),[y]);var P=Object(u.useState)(t.substring(t.lastIndexOf("/")+1)),_=Object(l.a)(P,2),G=_[0],L=_[1],R=Object(u.useState)({}),q=Object(l.a)(R,2),F=q[0],W=q[1];Object(u.useEffect)(Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=W,e.next=3,E(G);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[G]);var Q=Object(u.useState)([]),Y=Object(l.a)(Q,2),J=Y[0],U=Y[1],V=Object(u.useState)(5),X=Object(l.a)(V,2),Z=X[0],z=X[1],H=Object(u.useState)(""),ee=Object(l.a)(H,2),te=ee[0],ce=ee[1],ne=function(){var e=Object(i.a)(o.a.mark((function e(t){var c,n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t.length&&ce(""),!(t.length>=1)){e.next=13;break}return c="".concat(N,"/3/search/movie?query=%").concat(t,"&").concat(v),e.next=5,T(c);case 5:return n=e.sent,e.next=8,C(n);case 8:a=e.sent,s=a.slice(0,Z),f(s),U(n),ce(t);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===y&&(ne(te),I(te),ce(""));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){console.log("%c queryData.length: ".concat(J.length),"color: pink"),console.log("%c suggestions.length: ".concat(p.length),"color: pink")}),[J]),Object(u.useEffect)((function(){console.log({suggestions:p})}),[p]),Object(u.useEffect)((function(){console.log({movieData:F})}),[F]),Object(u.useEffect)((function(){console.log("searchbarText: ".concat(y))}),[y]),Object(u.useEffect)((function(){console.log("sliceNumber: ".concat(Z))}),[Z]),Object(u.useEffect)((function(){console.log("backgroundIMG: ".concat(a))}),[a]),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",Object(s.a)(Object(s.a)({id:"app"},B.a.events),{},{tabIndex:"1",children:Object(x.jsx)(b.Provider,{value:{movieID:G,movieData:F,searchbarText:y,setSearchbarText:I,oldSearchbarText:te,setOldSearchbarText:ce,sliceNumber:Z,setSliceNumber:z,suggestions:p,setSuggestions:f,handleChange:function(e){var t=e.target.value.replace(/[^\w\s]/gi,"");I(t),ne(t)},handleClickOnInput:ae,queryData:J,setQueryData:U,setMovieID:L,fetchPopularMoviesOnStartPage:M,backgroundIMG:a,setBackgroundIMG:r,BASE_IMG_URL:S},children:Object(x.jsx)(O,{children:Object(x.jsx)(d.a,{exitBeforeEnter:!0,children:Object(x.jsxs)(j.c,{location:e,children:[Object(x.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(x.jsx)(A,{})}}),Object(x.jsx)(j.a,{exact:!0,path:"/movie/:".concat(G),render:function(){return Object(x.jsx)(K,{})}})]},t.substring(0,t.lastIndexOf("/")+1))})})})})),Object(x.jsx)("div",{className:"BgGradient"}),Object(x.jsx)(d.a,{children:Object(x.jsx)(d.b.img,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.5},src:a!=="".concat(S,"originalnull")?a:$,className:"BgImage"},a)})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(x.jsx)(_.a,{basename:"/movie-search-app",children:Object(x.jsx)(U,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[73,1,2]]]);
//# sourceMappingURL=main.cb6ba6c2.chunk.js.map