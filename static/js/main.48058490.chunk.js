(this["webpackJsonpmy-movie-search"]=this["webpackJsonpmy-movie-search"]||[]).push([[0],{15:function(e,t,a){},47:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(32),c=a.n(n),s=a(22),r=a(4),o=a.n(r),i=a(11),l=a(5),u=a(0),j=(a(15),a(2)),d=a(10),b=Object(u.createContext)(null),h=a(33),p=a.n(h),m=a(34),x=(a(47),a(1));function O(e){return m.isMobile?Object(x.jsx)("div",{className:"overflow-y-auto",children:e.children}):Object(x.jsx)(p.a,{className:"AppScroolbar",children:e.children})}var f=a(19),v=a.n(f),g="api_key=cfe422613b250f702980a3bbf9e90716",w="https://api.themoviedb.org",N="https://image.tmdb.org/t/p/",S="".concat(N,"w500"),y="".concat(S,"null"),C="".concat(N,"originalnull"),T="".concat(w,"/3/movie/popular?").concat(g);function k(e){return I.apply(this,arguments)}function I(){return(I=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=6;break}return e.next=3,M(t);case 3:a=e.sent,e.next=12;break;case 6:if("object"!==typeof t){e.next=10;break}a=t,e.next=12;break;case 10:return console.error("Passed ".concat(typeof t," input to getMoviesDataToDisplayInSearch. You must pass string or object")),e.abrupt("return");case 12:return e.abrupt("return",a.map((function(e){return[e.original_title,e.id,S+e.poster_path]})));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return D.apply(this,arguments)}function D(){return(D=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(t);case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return"".concat(w,"/3/search/movie?query=%").concat(e,"&").concat(g)}function P(e){return B.apply(this,arguments)}function B(){return(B=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(w,"/3/movie/").concat(t,"?&").concat(g));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(e){return e.pathname.substring(0,e.pathname.lastIndexOf("/")+1)},R=function(e){return e.pathname.substring(e.pathname.lastIndexOf("/")+1)},L=a(16),A=a.n(L),F=a(14),q=a.p+"static/media/no_image.2f8a70e1.png";function G(){var e=Object(u.useContext)(b),t=e.searchbarText,a=e.suggestions,n=e.setMovieID;return Object(x.jsx)("div",{className:"StartPageCardTransition",children:Object(x.jsxs)("div",{className:"StartPageCard",children:[Object(x.jsx)("p",{className:"Popular",children:""===t||null===t?"Trending Now":""}),Object(x.jsx)("div",{className:"row",children:a.map((function(e,t){return Object(x.jsx)("div",{className:"cardContainer col-xl-2 col-md-3 col-4",children:Object(x.jsx)(F.b,{to:"/movie/".concat(e[1]),className:"linkStyle",children:Object(x.jsxs)("div",{className:"cardFS",onClick:function(){n(e[1])},children:[Object(x.jsx)("img",{className:"posterImage",src:e[2]!==y?e[2]:q,alt:"movie poster"}),Object(x.jsx)("h1",{className:"FS-title",children:e[0]})]})})},t)}))})]})})}var W=a(36);function H(){var e=Object(u.useContext)(b),t=e.searchbarText,a=e.oldSearchbarText,n=e.handleChange,c=e.handleClickOnInput,s=Object(u.useState)(!1),r=Object(l.a)(s,2),o=r[0],i=r[1];return Object(W.useScrollPosition)((function(e){e.prevPos;e.currPos.y<-20?i(!0):i(!1)})),Object(x.jsx)("div",{className:"col-lg-6 col-md-8 col-sm-9 col-12 st-search "+(o&&"st-animation"),children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(x.jsx)("input",{onChange:n,className:"myForm1 "+(o&&"myForm-animation"),type:"text",placeholder:"Search Movie Title...",value:""!==t?t:a,onClick:c})})})})})}function Y(){return Object(x.jsxs)(d.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:[Object(x.jsx)(H,{}),Object(x.jsx)(G,{})]})}var J=Object(u.createContext)(null);function K(e,t,a,n){var c=e.split(new RegExp("(".concat(t,")"),"gi"));return Object(x.jsxs)("span",{children:[" ",c.map((function(e,c){return Object(x.jsx)("span",{style:e.toLowerCase()===t.toLowerCase()&&n!==a?{color:"#00FC87",fontWeight:"bold"}:e.toLowerCase()===t.toLowerCase()?{fontWeight:"bold"}:{},children:e},c)}))," "]})}var $=a.p+"static/media/tmdb.6852b1ef.svg";function Q(){var e=Object(u.useContext)(b),t=e.searchbarText,a=e.setSearchbarText,n=e.oldSearchbarText,c=e.suggestions,s=e.allMoviesData,r=e.setAllMoviesData,j=e.handleChange,d=e.fetchPopularMoviesOnStartPage,h=e.pushToHistory,p=Object(u.useContext)(J),m=p.show,O=p.cursor,f=p.setCursor,v=function(){var e=Object(u.useContext)(b),t=e.searchbarText,a=e.setSearchbarText,n=e.oldSearchbarText,c=e.setOldSearchbarText,s=e.suggestions,r=e.setMovieID,o=e.pushToHistory,i=Object(u.useContext)(J),l=i.show,j=i.setShow,d=i.cursor,h=i.setCursor;function p(e){t&&void 0!==e&&(o("/movie/".concat(e[1])),c(t),a(""),r(e[1]))}return A.a.config({up:function(){isNaN(d)?h(5):h(d<0?5:function(e){return e-1})},down:function(){isNaN(d)?h(0):h(d>5?0:function(e){return e+1})}}),[p,function(e){13===(e.keyCode||e.which)&&(l?5===d?o("/"):(p(s[d]),j(!1),a(n)):(5===d?o("/"):(a(n),c("")),j(!0)))}]}(),g=Object(l.a)(v,2),w=g[0],N=g[1],S=function(){var e=Object(u.useContext)(b),t=e.searchbarText,a=e.setSearchbarText,n=e.oldSearchbarText,c=e.setOldSearchbarText,s=e.showResInSearchBar,r=Object(u.useContext)(J).setShow,l=Object(u.useRef)();function j(e){l.current.contains(e.target)||r(!1)}return Object(u.useEffect)((function(){return document.addEventListener("mousedown",j),function(){document.removeEventListener("mousedown",j)}}),[]),[l,function(){var e=Object(i.a)(o.a.mark((function e(i){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(!0),""===t&&(s(n),a(n),c(""));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}(),C=Object(l.a)(S,2),T=C[0],k=C[1],I=function(e){f(parseInt(e.target.getAttribute("index")))};return Object(x.jsx)("div",{className:"searchContainer",children:Object(x.jsxs)("div",{className:"row searchSecondContainer",children:[Object(x.jsx)("div",{className:"col-xs-12 col-sm-3 col-lg-3 p-0",children:Object(x.jsx)("img",{src:$,className:"logo",alt:"The Movie Database",onClick:function(){r([]),a(""),d(),h("/")}})}),Object(x.jsxs)("div",{className:"col-xs-12 col-sm-9 col-lg-9 p-0 pl-3 searchInside",ref:T,children:[Object(x.jsx)("form",{className:"searchbox",onSubmit:function(e){return e.preventDefault()},children:Object(x.jsx)("input",{onChange:j,className:"movieSearchBar",type:"text",placeholder:"Search Movie Title...",value:""!==t?t:n,onKeyPress:N,onClick:k})}),s.length>0?Object(x.jsxs)("ul",{className:m&&t?"animate list":"list",children:[c.slice(0,5).map((function(e,a){return Object(x.jsx)("li",{className:O===a?"active tt-suggestion":"tt-suggestion",onClick:function(){return w(e)},onMouseEnter:I,index:a,children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("img",{src:e[2]!==y?e[2]:q,className:"col-lg-2 col-md-3 col-sm-4 col-3 quickSearchImage",alt:"movie poster"}),Object(x.jsx)("p",{className:"col-lg-10 col-md-9 col-sm-8 col-9 textSugestion sugest",children:K(e[0],t,a,O)})]})},a)})),Object(x.jsx)("li",{children:Object(x.jsx)("p",{onClick:function(){return h("/")},index:5,className:5===O?"active textSugestion showMore tt-suggestion":"textSugestion showMore tt-suggestion",children:"show more"})})]}):t?Object(x.jsx)("ul",{className:"animate list showMore noResult",children:Object(x.jsx)("li",{children:"no result"})}):void 0]})]})})}function V(e){var t=[];return void 0!==e&&e.forEach((function(e){t.push(e.name)})),t.join(", ")}function X(){var e=Object(u.useContext)(b).movieData,t=e.original_title,a=e.overview,n=e.tagline,c=e.poster_path,s=e.production_companies,r=e.genres,o=e.release_date,i=e.runtime,l=e.revenue,j=e.vote_average,h=S+c,p=V(s),m=V(r);return"undefined"!==j&&0!==j||(j="-"),l="undefined"===l||0===l?"-":parseInt(l).toLocaleString()+" $",Object(x.jsx)("div",{className:"MovieCard",children:Object(x.jsx)(d.a,{exitBeforeEnter:!0,children:Object(x.jsxs)(d.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"Card row",children:[Object(x.jsxs)("div",{className:"meta-data-container col-12 col-md-7 col-lg-8",children:[Object(x.jsx)("h1",{children:t}),Object(x.jsx)("span",{className:"tagline",children:n}),Object(x.jsx)("p",{children:a}),Object(x.jsxs)("div",{className:"additional-details",children:[Object(x.jsx)("span",{className:"genre-list",children:m}),Object(x.jsx)("span",{className:"production-list",children:p}),Object(x.jsxs)("div",{className:"row release-details",children:[Object(x.jsxs)("div",{className:"col-6",children:[" Original Release: ",Object(x.jsx)("span",{className:"meta-data",children:o})]}),Object(x.jsxs)("div",{className:"col-6",children:[" Running Time: ",Object(x.jsxs)("span",{className:"meta-data",children:[i," min"]})," "]}),Object(x.jsxs)("div",{className:"col-6",children:[" Box Office: ",Object(x.jsx)("span",{className:"meta-data",children:l})]}),Object(x.jsxs)("div",{className:"col-6",children:[" Vote Average: ",Object(x.jsx)("span",{className:"meta-data",children:j})]})]})]})]}),Object(x.jsx)("div",{className:"posterContainer order-md-first col-12 col-md-5 col-lg-4",children:Object(x.jsx)("img",{className:"poster",src:null!==c?h:q,alt:"poster"})})]},t)})})}function Z(){var e=Object(u.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(u.useState)(),s=Object(l.a)(c,2),r=s[0],o=s[1];return Object(x.jsx)(J.Provider,{value:{show:a,setShow:n,cursor:r,setCursor:o},children:Object(x.jsxs)(d.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:[Object(x.jsx)(Q,{}),Object(x.jsx)(X,{})]})})}var z=a.p+"static/media/BgGreen2.a17d9a1b.jpg";function U(){var e=Object(j.g)(),t=Object(j.f)();Object(u.useEffect)((function(){L(R(e))}),[e.pathname]);var a=Object(u.useState)("https://image.tmdb.org/t/p/original/rAiYTfKGqDCRIIqo664sY9XZIvQ.jpg"),n=Object(l.a)(a,2),c=n[0],r=n[1],h=Object(u.useState)([]),p=Object(l.a)(h,2),m=p[0],f=p[1],v=Object(u.useState)(""),g=Object(l.a)(v,2),w=g[0],N=g[1];function S(){return y.apply(this,arguments)}function y(){return(y=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=f,e.next=3,k(T);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(u.useEffect)((function(){""===w&&S()}),[w]);var I=Object(u.useState)(R(e)),D=Object(l.a)(I,2),B=D[0],L=D[1],F=Object(u.useState)({}),q=Object(l.a)(F,2),G=q[0],W=q[1];Object(u.useEffect)(Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=W,e.next=3,P(B);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[B]);var H=Object(u.useState)([]),J=Object(l.a)(H,2),K=J[0],$=J[1],Q=Object(u.useState)(""),V=Object(l.a)(Q,2),X=V[0],U=V[1],ee=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t.length&&U(""),!(t.length>=1)){e.next=11;break}return e.next=4,M(E(t));case 4:return a=e.sent,e.next=7,k(a);case 7:n=e.sent,$(a),f(n),U(t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){console.log("allMoviesData.length ".concat(K.length)),console.log("suggestions.length ".concat(K.length))}),[K]),Object(u.useEffect)((function(){console.log({suggestions:m})}),[m]),Object(u.useEffect)((function(){console.log({movieData:G}),r("https://image.tmdb.org/t/p/original".concat(G.backdrop_path))}),[G]),Object(u.useEffect)((function(){console.log("searchbarText: ".concat(w))}),[w]),Object(u.useEffect)((function(){console.log("backgroundIMG: ".concat(c))}),[c]),console.dir(e),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",Object(s.a)(Object(s.a)({id:"app"},A.a.events),{},{tabIndex:"1",children:Object(x.jsx)(b.Provider,{value:{movieID:B,movieData:G,searchbarText:w,setSearchbarText:N,oldSearchbarText:X,setOldSearchbarText:U,suggestions:m,setSuggestions:f,handleChange:function(e){var t=e.target.value.replace(/[^\w\s]/gi,"");N(t),ee(t)},allMoviesData:K,setAllMoviesData:$,setMovieID:L,fetchPopularMoviesOnStartPage:S,showResInSearchBar:ee,history:t,pushToHistory:function(e){return t.push(e)}},children:Object(x.jsx)(O,{children:Object(x.jsx)(d.a,{exitBeforeEnter:!0,children:Object(x.jsxs)(j.c,{location:e,children:[Object(x.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(x.jsx)(Y,{})}}),Object(x.jsx)(j.a,{exact:!0,path:"/movie/:".concat(B),render:function(){return Object(x.jsx)(Z,{})}})]},_(e))})})})})),Object(x.jsx)("div",{className:"BgGradient"}),Object(x.jsx)(d.a,{children:Object(x.jsx)(d.b.img,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.5},src:c!==C?c:z,className:"BgImage"},c)})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(x.jsx)(F.a,{basename:"/movie-search-app",children:Object(x.jsx)(U,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[73,1,2]]]);
//# sourceMappingURL=main.48058490.chunk.js.map